;/*FB_PKG_DELIM*/

__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=new Map();a={get:function(a){a=a==null?void 0:a.sampleRate;var b=i.get(a);if(b==null){var d=new h({sampleRate:a});i.set(a,d);return d}if(b.state==="closed"){c("FBLogger")("project").warn("AudioContext Singleton has been closed");d=new h({sampleRate:a});i.set(a,d);return d}return b}};b=a;g["default"]=b}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();g.COMET_LEXICAL_ARIA_COMMAND=a}),98);
__d("CometPressableChildrenWithOverlay_DEPRECATED.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children;a=a.overlay;return i.jsxs("div",babelHelpers["extends"]({className:"x4k7w5x x1h91t0o x1fmog5m xu25z0z x140muxe xo1y3bh x1jfb8zj x1beo9mf x3igimt xarpa2k x1n2onr6 x1qrby5j"},{children:[b,a]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react",["CometPlaceholder.react","CometSSRSuspendOnServer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children;a=a.useSuspenseDirectlyForSVG;a=a===!0?i.Suspense:c("CometPlaceholder.react");return i.jsx(a,{fallback:b,children:i.jsx(c("CometSSRSuspendOnServer.react"),{children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometVideoPlayerLoggingConfigForDisabledLogging",[],(function(a,b,c,d,e,f){"use strict";function a(){return{disableCVCSubscription:!0,disableLogging:!0,loggingToSNAPLCreateMetadataProvider:null,loggingToSNAPLEnabled:!1,loggingToVPLEnabled:!1}}f.createCometVideoPlayerLoggingConfigForDisabledLogging=a}),66);
__d("FBVideoMetadataProvider",["CometProductAttribution","MediaPlaybackCompoundEventUtils","MediaPlaybackMetadataProvider","PlaybackSpeedExperiments","VideoPlayerConnectionQuality","getPlayerFormatForLogData","getVideoBrowserTabId"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){var b,e=a.logDataAdditions,f=a.loggingMetaData,g=a.state;a=f.productAttribution!=null?d("CometProductAttribution").minifyProductAttributionV2(f.productAttribution):void 0;var h=f.coreVideoPlayerMetaData.canAutoplay==="allow",i=JSON.stringify(f.coreVideoPlayerMetaData.autoplayGatingResult?[f.coreVideoPlayerMetaData.autoplayGatingResult]:[]),j=d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.availableQualities.length),k=g.controlledState.captionsVisible?"on":"off",l=d("MediaPlaybackCompoundEventUtils").getMediaPlaybackDataConnectionQuality(d("VideoPlayerConnectionQuality").evaluate(function(){return g.uncontrolledState.estimatedBandwidth}));b=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(b=g.controlledState.isDesktopPictureInPicture)!=null?b:!1,isFullscreen:g.uncontrolledState.isFullscreen},f.coreVideoPlayerMetaData.playerFormat);var m=!(g.controlledState.muted||g.controlledState.volume===0),n=g.controlledState.lastPlayReason!=null?d("MediaPlaybackCompoundEventUtils").getMediaPlaybackPlayReason(g.controlledState.lastPlayReason):null,o;if(d("PlaybackSpeedExperiments").enablePlaybackSpeedLogging()){var p=g.uncontrolledState.videoElementPlaybackRate;p!==null&&p!==0&&(o=p)}p={attribution_id_v2:a,audio_representation_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.audioRepresentationID),autoplay_eligible:h,autoplay_failure_reasons:i,autoplay_setting:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(f.coreVideoPlayerMetaData.autoplaySetting),available_qualities_count:j,caption_format:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.controlledState.captionFormat),caption_locale:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.controlledState.captionsLocale),caption_state:k,client_latency_setting:g.controlledState.latencyLevel,dash_manifest_identifier:g.uncontrolledState.manifestIdentifier,data_connection_quality:l,downstream_share_origin_uri:(p=f.downstreamShareSignalTracking)==null?void 0:p.downstream_share_session_origin_uri,downstream_share_start_time:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata((a=f.downstreamShareSignalTracking)==null?void 0:a.downstream_share_session_start_time),downstream_share_visit_uuid:(h=f.downstreamShareSignalTracking)==null?void 0:h.downstream_share_session_id,dropped_frame_count:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.videoElementDroppedFrameCount),external_log_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(f.coreVideoPlayerMetaData.externalLogID),external_log_type:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(f.coreVideoPlayerMetaData.externalLogType),is_abr_enabled:g.isAbrEnabled,is_fbms:(i=g.uncontrolledState.isFBMS)!=null?i:void 0,is_live_video_rewound:g.controlledState.isLiveRewindActive,is_mixed_codec_manifest:(j=g.uncontrolledState.isMixedCodecManifest)!=null?j:void 0,is_predictive_playback:g.uncontrolledState.isPredictiveDash,mpd_validation_errors:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.mpdValidationErrors),playback_speed:o,player_format:b,player_sound_on:m,projection:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.videoProjection),streaming_format:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.controlledState.streamingFormat),total_frame_count:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.videoElementTotalFrameCount),video_bandwidth:(k=g.uncontrolledState.estimatedBandwidth)!=null?k:void 0,video_chaining_depth_level:e.video_chaining_depth_level,video_chaining_parent_video_id:e.video_chaining_parent_video_id,video_chaining_session_id:e.video_chaining_session_id,video_play_reason:n,video_projection:(l=g.uncontrolledState.videoProjection)!=null?l:void 0,video_representation_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.videoRepresentationID),view_height:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.floor(f.dimensions.height)),view_width:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.floor(f.dimensions.width))};return p};function a(){return{getErrorMetadata:d("MediaPlaybackMetadataProvider").getSNAPLErrorMetadataCommon,getRequiredMetadata:function(a){var b,e,f,g=a.loggingMetaData;a=a.state;b=(b=g.coreVideoPlayerMetaData.isLiveStreaming)!=null?b:void 0;e=(e=g.coreVideoPlayerMetaData.videoFBID)!=null?e:"-1";var h=g.coreVideoPlayerMetaData.adClientToken==null?"organic":"paid",i=g.productAttribution!=null?d("MediaPlaybackCompoundEventUtils").minifyProductAttributionV2Root(g.productAttribution):null,j=a.controlledState.lastPlayReason!=null?d("MediaPlaybackCompoundEventUtils").getMediaPlaybackPlayReason(a.controlledState.lastPlayReason):null;f=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(f=a.controlledState.isDesktopPictureInPicture)!=null?f:!1,isFullscreen:a.uncontrolledState.isFullscreen},g.coreVideoPlayerMetaData.playerFormat);var k=g.productAttribution!=null?d("CometProductAttribution").minifyProductAttributionV2(g.productAttribution):void 0;b={browser_tab_id:c("getVideoBrowserTabId")(),current_watching_module:"",is_live_streaming:b,media_id:e,nav_chain:k,player_format:f,player_origin:g.coreVideoPlayerMetaData.playerOriginOverride,player_suborigin:g.coreVideoPlayerMetaData.subOrigin,player_version:a.playerVersion,sessionizer_nav_chain:i,tracking_data_encrypted:g.trackingDataEncrypted,tracking_type:h,video_play_reason:j};return b},getTagMetadata:function(a){var b=a.logDataAdditions,c=a.loggingMetaData;a=a.state;b=h({logDataAdditions:b,loggingMetaData:c,state:a});return b}}}g.createFBVideoMetadataProvider=a}),98);
__d("CometVideoPlayerLoggingConfigForMiscApps",["CometVideoPlayerLoggingConfigForDisabledLogging","FBVideoMetadataProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a==null?void 0:a.disableLogging)===!0?d("CometVideoPlayerLoggingConfigForDisabledLogging").createCometVideoPlayerLoggingConfigForDisabledLogging():{loggingToSNAPLCreateMetadataProvider:d("FBVideoMetadataProvider").createFBVideoMetadataProvider,loggingToSNAPLEnabled:!1}}g.createCometVideoPlayerLoggingConfigForMiscApps=a}),98);
__d("FDSProfilePhotoActivityBadge.react",["CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.backgroundColor;b=b===void 0?"white":b;var d=a.icon,e=a.isDecorative;e=e===void 0?!0:e;var f=a.overflow,g=a.pressed;a=a.size;return i.jsx(c("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:i.jsx(c("CometPressableOverlay.react"),{offset:0,pressed:g,radius:"50%"}),children:i.jsx("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x18d9i69 xyri2b x1c1uobl xexx8yu x1n2onr6 x1ja2u2z"},4:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x18d9i69 xyri2b x1c1uobl xexx8yu x1n2onr6 x1ja2u2z x1v9usgg x6jxa94"},2:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z x17rw0jw x123j3cw x1gabggj xs9asl8 xaso8d8 x17z2i9w"},6:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z x17rw0jw x123j3cw x1gabggj xs9asl8 xaso8d8 x17z2i9w"},1:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},5:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},3:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},7:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"}}[!!(a===8)<<2|!!(a===10)<<1|!!(a===16)<<0],{"aria-hidden":e?"true":void 0,style:{backgroundColor:b,overflow:f},children:d}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSProfilePhotoAvailabilityBadge.react",["fbt","BaseView.react","CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","CometScreenReaderText.react","FDSBadge.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={availabilityBadge:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},l=h._(/*BTDS*/"\u30a2\u30af\u30c6\u30a3\u30d6");function a(a){var b=a.isDecorative;b=b===void 0?!1:b;var d=a.pressed;a=a.size;return j.jsxs(c("BaseView.react"),{"aria-hidden":b,xstyle:k.availabilityBadge,children:[j.jsx(c("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:j.jsx(c("CometPressableOverlay.react"),{pressed:d,radius:"50%"}),children:j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"\u30aa\u30f3\u30e9\u30a4\u30f3\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u30fc"),color:"green",isProfileBadge:!0,size:a})}),j.jsx(c("CometScreenReaderText.react"),{text:l})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FDSProfilePhotoActivePill.react",["CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={badge:{borderStartStartRadius:"x12l2aii",borderStartEndRadius:"x1mbk4o",borderEndEndRadius:"x14vvt0a",borderEndStartRadius:"x1w3ol1v",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",boxSizing:"x9f619",display:"x78zum5",fontWeight:"x117nqv4",justifyContent:"xl56j7k",marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",$$css:!0},badgeBackground:{backgroundColor:"x4cor85",$$css:!0},badgeBackground_DEPRECATED:{backgroundColor:"xbb192p",$$css:!0}},l={"card-background":{borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",$$css:!0},"secondary-button-background-floating":{borderTopColor:"x1bmsi4x",borderInlineEndColor:"x146t3o",borderBottomColor:"x17j0sh5",borderInlineStartColor:"x18r8ynu",$$css:!0},"web-wash":{borderTopColor:"x1516sgx",borderInlineEndColor:"x1xachar",borderBottomColor:"x1khxuxv",borderInlineStartColor:"x1lkg39s",$$css:!0}};function a(a){var b=a["aria-label"],d=a.border;d=d===void 0?"card-background":d;var e=a.children;a=a.pressed;return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xl56j7k x193iq5w"},{"aria-label":b,children:j.jsx(c("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:j.jsx(c("CometPressableOverlay.react"),{pressed:a,radius:7}),children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.badge,l[d],c("gkx")("6275")||c("gkx")("23219")?k.badgeBackground:k.badgeBackground_DEPRECATED),{children:j.jsx("span",babelHelpers["extends"]({},{0:{className:"x190qgfh x132q4wb xuxw1ft x6u5lvz"},1:{className:"x190qgfh x132q4wb xuxw1ft x31nisg"}}[!!(c("gkx")("6275")||c("gkx")("23219"))<<0],{children:e}))}))})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSProfilePhotoLastActiveTimeBadge.react",["fbt","FDSProfilePhotoActivePill.react","FDSRelativeTimestamp.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.border;b=b===void 0?"card-background":b;var d=a.pressed;a=a.time;var e=h._(/*BTDS*/"\u524d\u56de\u306e\u30aa\u30f3\u30e9\u30a4\u30f3:");return j.jsx(c("FDSProfilePhotoActivePill.react"),{"aria-label":e,border:b,pressed:d,children:j.jsx(c("FDSRelativeTimestamp.react"),{date:new Date(a*1e3),format:"minimized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("profilePhotoUtils",["MetaConfig","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoizeWithArgs")(function(a,b){if(b==="none")return 0;b=b==="seen"&&c("MetaConfig")._("73");switch(a){case 24:case 32:case 36:case 40:return b?1:2;case 48:case 56:case 60:return b?1.5:3;case 132:default:return b?2:4}},function(a,b){return""+(b!=null?b:"")+String(a)});b=c("memoizeWithArgs")(function(a,b){if(b==="availabilityBadge")switch(a){case 10:case 16:case 20:case 24:return[6,1.5];case 28:return[7,2];case 32:case 36:return[8,2];case 40:case 44:case 48:return[9,2];case 52:case 56:case 60:return[10,2];case 72:return[12,2];case 80:case 88:return[14,2];case 96:case 100:case 112:return[15,2];case 120:case 132:case 168:return[20,4];default:a;return[8,2]}switch(a){case 10:case 16:case 20:case 24:return[6,1.5];case 28:return[7,1.5];case 32:return[8,2];case 36:return[9,2];case 40:return[10,2];case 44:case 48:return[12,2];case 52:case 56:return[14,2];case 60:return[15,2];case 72:return[18,2];case 80:return[20,4];case 88:return[22,4];case 96:case 100:case 112:return[24,4];case 120:case 132:return[32,4];case 168:return[41,4];default:a;return[8,2]}},function(a,b){return String(a)+b});g.getStoryRingSize=a;g.getBadgeSizeAndStrokeWidth=b}),98);
__d("FDSProfilePhotoAddOn.react",["FDSProfilePhotoActivityBadge.react","FDSProfilePhotoAvailabilityBadge.react","FDSProfilePhotoLastActiveTimeBadge.react","profilePhotoUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.addOn,e=a.pressed;a=a.size;switch(b.type){case"availabilityBadge":a=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(a,b==null?void 0:b.type);a=a[0];return i.jsx(c("FDSProfilePhotoAvailabilityBadge.react"),{isDecorative:b.isDecorative,pressed:e,size:a});case"lastActiveTimeBadge":return i.jsx(c("FDSProfilePhotoLastActiveTimeBadge.react"),{border:b.border,pressed:e,time:b.time});case"activityBadge":return i.jsx(c("FDSProfilePhotoActivityBadge.react"),{backgroundColor:b.backgroundColor,icon:b.icon,isDecorative:b.isDecorative,overflow:b.overflow,pressed:e,size:b.size});case"trigger":return b.icon;case"multipleVoicesForAction":return b.badge;default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSProfilePhotoNotificationBadge.react",["fbt","FDSBadge.react","FDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.number;var b=a>9?"9+":a;return j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"_j{\"*\":\"\\u304a\\u77e5\\u3089\\u305b{number}\\u4ef6\"}",[h._plural(a),h._param("number",b)]),color:"red",isProfileBadge:!0,size:18,wide:a>9?"wide":"normal",children:j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xuxw1ft xh8yej3"},{children:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:a>9?"9+":a})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FDSProfileVideoGlimmer.react",["FDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){a=a.size;return i.jsx("div",{className:"x1n2onr6",style:{height:a,width:a},children:i.jsx(c("FDSGlimmer.react"),{index:0,xstyle:j.glimmer})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LazyCometProfileVideoSection.react",["CometPlaceholder.react","FDSProfileVideoGlimmer.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("FDSProfileVideoSection.react").__setRef("LazyCometProfileVideoSection.react"));function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("FDSProfileVideoGlimmer.react"),{size:a.size}),children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getBadgePosition",["Locale","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoizeWithArgs")(function(a,b){b===void 0&&(b=!1);a=Math.sqrt(2*a*a)-a;a=Math.round(Math.sqrt(a*a/2));if(b)if(d("Locale").isRTL())return{left:a,top:a,transform:"translate(-50%, -50%)"};else return{right:a,top:a,transform:"translate(50%, -50%)"};else if(d("Locale").isRTL())return{bottom:a,left:a,transform:"translate(-50%, 50%)"};else return{bottom:a,right:a,transform:"translate(50%, 50%)"}},function(a,b){return String(b)+String(a)});g.getBadgePosition=a}),98);
__d("FDSProfilePhotoContent.react",["BaseSvgImage.react","CometErrorBoundary.react","CometImage.react","CometPlaceholder.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometSSRSuspendOnServer.react","CometVideoPlayerLoggingConfigForMiscApps","CometVisualCompletionAttributes","FDSLoadingAnimation.react","FDSProfilePhotoAddOn.react","FDSProfilePhotoNotificationBadge.react","LazyCometProfileVideoSection.react","getBadgePosition","gkx","profilePhotoUtils","react","stylex","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h=["addOn","addOnTopEnd","alt","children","cursorDisabled","forwardRef","isOverlapped","linkProps","onHoverIn","onHoverOut","onPress","onPressIn","overlay","pressed","preview","profileVideo","shape","shouldShowCloseFriendsBadge","size","source","storyStatus","testid","testOnly_pressed"],i,j,k=j||(j=d("react")),l=j.useId,m={photo:{verticalAlign:"x3ajldb",$$css:!0},photoCircle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},photoRoundedRect:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},photoRoundedRectLarge:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",$$css:!0},storyRingBlue:{stroke:"xauuydb",$$css:!0},storyRingBlueLegacy:{stroke:"x1p5r69i",$$css:!0},storyRingGray:{stroke:"xgzcv5c",$$css:!0},storyRingGrayLegacy:{stroke:"x1tbtn3x",$$css:!0},storyRingGreen:{stroke:"x1cm6qz0",$$css:!0},storyRingRed:{stroke:"x1t6d43z",$$css:!0},storyRingSize2:{strokeWidth:"xvlca1e",$$css:!0},storyRingSize3:{strokeWidth:"xqjr0vm",$$css:!0},storyRingSize4:{strokeWidth:"x17ld789",$$css:!0}},n=function(a){if(a==="circle")return"50%";if(a==="roundedRect")return 8;return a==="roundedRectLarge"?16:0};function a(a){var b=a.addOn,e=a.addOnTopEnd,f=a.alt,g=a.children;a.cursorDisabled;var j=a.forwardRef,o=a.isOverlapped,p=a.linkProps,q=a.onHoverIn,r=a.onHoverOut,s=a.onPress,t=a.onPressIn,u=a.overlay,v=a.pressed;a.preview;var w=a.profileVideo,x=a.shape,y=a.shouldShowCloseFriendsBadge,z=a.size,A=a.source,B=a.storyStatus,C=a.testid;a.testOnly_pressed;C=babelHelpers.objectWithoutPropertiesLoose(a,h);a=l();var D=c("useSetAttributeRef")("id",a),E="url(#"+a+")",F=c("useSetAttributeRef")("mask",E),G=d("profilePhotoUtils").getStoryRingSize(z,B),H=d("getBadgePosition").getBadgePosition(z/2,!0),I=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(z,b==null?void 0:b.type),J=I[0];I=I[1];var K=(b==null?void 0:b.type)==="lastActiveTimeBadge"&&z>28,L=K?{}:d("getBadgePosition").getBadgePosition(z/2,!1);K=b!=null?k.jsx("div",babelHelpers["extends"]({className:{0:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo",4:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl",2:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x14ihvte",6:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x14ihvte",1:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",5:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",3:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x14ihvte x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",7:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x14ihvte x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu"}[!!K<<2|!!(z===60&&b.type==="activityBadge")<<1|!!(b.type==="activityBadge"&&(w!=null||b.withBorder===!0))<<0]},c("CometVisualCompletionAttributes").IGNORE,{style:babelHelpers["extends"]({},L,{borderWidth:w!=null?I:void 0}),children:k.jsx(c("FDSProfilePhotoAddOn.react"),{addOn:b,pressed:v,size:z})})):null;var M=e!=null?k.jsx("div",{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo","data-testid":void 0,style:babelHelpers["extends"]({},H),children:k.jsx(c("FDSProfilePhotoNotificationBadge.react"),{number:e.number})}):null,N=typeof A.uri==="string"?k.jsx(c("BaseSvgImage.react"),{src:A.uri,style:{height:z-G*4,width:z-G*4},x:2*G,y:2*G}):k.jsx(c("CometImage.react"),{alt:f,height:z-4*G,src:A.uri,testid:void 0,width:z-4*G,xstyle:[m.photo,x==="circle"&&m.photoCircle,x==="roundedRect"&&m.photoRoundedRect,x==="roundedRectLarge"&&m.photoRoundedRectLarge]}),O=n(x);L=typeof A.uri==="string"?k.jsxs("svg",babelHelpers["extends"]({"aria-hidden":f==null?!0:void 0,"aria-label":f,className:"x3ajldb"},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{"data-testid":void 0,role:f!=null?"img":"none",style:{height:z,width:z},children:[k.jsxs("mask",{id:a,ref:D,suppressHydrationWarning:!0,children:[x==="circle"?k.jsx("circle",{cx:z/2,cy:z/2,fill:"white",r:z/2}):k.jsx("rect",{cy:z/2,fill:"white",height:z,rx:O,ry:O,width:z,x:0,y:0}),k.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{useSuspenseDirectlyForSVG:!0,children:K!=null&&(b==null?void 0:b.type)!=="trigger"&&(b==null?void 0:b.type)!=="lastActiveTimeBadge"&&(b==null?void 0:b.backgroundColor)!=="none"&&k.jsx("circle",babelHelpers["extends"]({cx:(f=L.left)!=null?f:z-((a=L.right)!=null?a:0),cy:(D=L.top)!=null?D:z-((f=L.bottom)!=null?f:0)},c("CometVisualCompletionAttributes").IGNORE,{fill:"black",r:Math.max((b==null?void 0:b.type)==="activityBadge"?8:0,J/2+I)}))}),M!=null&&e!=null&&e.type==="notificationBadge"&&k.jsx("rect",{height:22,rx:11,ry:11,width:e.number<=9?22:e.number<=99?33:44,x:H.left!=null?H.left-(e.number<=9?11:e.number<=99?22:33):z-((a=H.right)!=null?a:0)-11,y:H.top!=null?H.top-11:z-((D=H.bottom)!=null?D:0)-11}),B==="uploading"&&(z===36||z===40||z===60)?k.jsx("circle",{cx:z/2,cy:z/2,fill:"transparent",r:z/2-1*G,stroke:"black",strokeWidth:G*2}):B!=="none"&&G>0&&k.jsx("circle",{cx:z/2,cy:z/2,fill:"transparent",r:z/2-1.5*G,stroke:"black",strokeWidth:G}),o===!0&&k.jsx("circle",{cx:-z/2+4,cy:z/2,fill:"black",r:z/2+2})]}),k.jsxs("g",{mask:E,ref:F,suppressHydrationWarning:!0,children:[w!=null?k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return N},children:k.jsx(c("CometPlaceholder.react"),{fallback:N,children:k.jsx(c("CometSSRSuspendOnServer.react"),{children:k.jsx("foreignObject",{height:"100%",width:"100%",x:2*G,y:2*G,children:k.jsx("div",{className:{0:"x1u31j2f x6ikm8r x10wlt62",2:"x1u31j2f x6ikm8r x10wlt62 x1obq294 x5a5i1n xde0f50 x15x8krk",1:"x1u31j2f x6ikm8r x10wlt62 x1c9tyrk xeusxvb x1pahc9y x1ertn4p",3:"x1u31j2f x6ikm8r x10wlt62 x1c9tyrk xeusxvb x1pahc9y x1ertn4p"}[!!(x==="roundedRect")<<1|!!(x==="circle")<<0],style:{height:z-G*4,width:z-G*4},children:k.jsx(c("LazyCometProfileVideoSection.react"),babelHelpers["extends"]({cometVideoPlayerLoggingConfig:d("CometVideoPlayerLoggingConfigForMiscApps").createCometVideoPlayerLoggingConfigForMiscApps(),linkProps:p,onHoverIn:q,onHoverOut:r,onPress:s,onPressIn:t,profileVideo:w,size:z-G*4,thumbnailUri:A.uri},C))})})})})}):N,x==="circle"?k.jsx("circle",babelHelpers["extends"]({},{0:{className:"xbh8q5q x1pwv2dq xvlca1e"},1:{className:"x1pwv2dq xvlca1e x1tgjyoi"}}[!!v<<0],{cx:z/2,cy:z/2,r:z/2})):k.jsx("rect",babelHelpers["extends"]({},{0:{className:"xbh8q5q x1pwv2dq xvlca1e"},1:{className:"x1pwv2dq xvlca1e x1tgjyoi"}}[!!v<<0],{cy:z/2,fill:"white",height:z,rx:O,ry:O,width:z,x:0,y:0})),B==="uploading"&&(z===36||z===40||z===60)?null:B!=="none"&&G>0&&k.jsx("circle",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(B==="unseen"&&(y===!0?m.storyRingGreen:c("gkx")("6275")?m.storyRingBlue:m.storyRingBlueLegacy),B==="seen"&&(c("gkx")("6275")?m.storyRingGray:m.storyRingGrayLegacy),B==="live"&&m.storyRingRed,G===4&&m.storyRingSize4,G===3&&m.storyRingSize3,G===2&&m.storyRingSize2),{cx:z/2,cy:z/2,fill:"transparent",r:z/2-G/2,strokeWidth:G}))]}),B==="uploading"&&(z===36||z===40||z===60)&&k.jsx("g",{style:{transform:"scale("+(z-Math.floor(z/30))/z+")"},children:k.jsx(c("FDSLoadingAnimation.react"),{size:z})})]})):N;return k.jsxs("div",babelHelpers["extends"]({className:"x1rg5ohu x1n2onr6 x3ajldb x1ja2u2z"},{ref:j,children:[L,g,u,k.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:K}),M]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSProfilePhoto.react",["CometPressable.react","CometTrackingNodeProvider.react","FDSProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["addOn","addOnTopEnd","alt","aria-hidden","aria-pressed","children","cursorDisabled","disabled","isOverlapped","onHoverIn","onHoverOut","overlayDisabled","preview","profileVideo","ref","role","shape","shouldResizeImageOnNative","shouldShowCloseFriendsBadge","size","source","storyStatus","testid"],i=["linkProps","onPress","onPressIn","testOnly_pressed"],j,k=j||d("react"),l={pressable:{color:"xzsf02u",display:"x1rg5ohu",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0}},m=function(a){if(a==="circle")return"50%";if(a==="roundedRect")return 8;return a==="roundedRectLarge"?16:0};function a(a){var b=a.addOn,d=a.addOnTopEnd,e=a.alt,f=a["aria-hidden"],g=a["aria-pressed"],j=a.children,n=a.cursorDisabled,o=a.disabled,p=a.isOverlapped,q=p===void 0?!1:p;p=a.onHoverIn;var r=a.onHoverOut,s=a.overlayDisabled;s=s===void 0?!1:s;var t=a.preview,u=a.profileVideo,v=a.ref,w=a.role,x=a.shape,y=x===void 0?"circle":x;a.shouldResizeImageOnNative;x=a.shouldShowCloseFriendsBadge;var z=x===void 0?!1:x;x=a.size;var A=a.source,B=a.storyStatus,C=B===void 0?"none":B;B=a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var D=a.linkProps,E=a.onPress,F=a.onPressIn,G=a.testOnly_pressed;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var H={addOn:b,addOnTopEnd:d,alt:e,"aria-hidden":f,"aria-pressed":g,isOverlapped:q,onHoverIn:p,onHoverOut:r,preview:t,profileVideo:u,role:w,shape:y,shouldShowCloseFriendsBadge:z,size:x,source:A,storyStatus:C,testid:B};if(!E&&!D&&G!==!0)return k.jsx(c("FDSProfilePhotoContent.react"),babelHelpers["extends"]({},H,{forwardRef:v,isOverlapped:q,pressed:!1,shape:y,shouldShowCloseFriendsBadge:z,storyStatus:C,children:j}));b=m(y);return k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:3,children:k.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a,{cursorDisabled:n,disabled:o,linkProps:D,onHoverIn:p,onHoverOut:r,onPress:E,onPressIn:F,overlayDisabled:s,overlayRadius:b,ref:v,testOnly_pressed:G,testid:void 0,xstyle:function(a){a=a.pressed;return[l.pressable,a&&l.pressed]},children:function(a){var b=a.overlay;a=a.pressed;return k.jsx(c("FDSProfilePhotoContent.react"),babelHelpers["extends"]({},H,{forwardRef:void 0,isOverlapped:q,overlay:b,pressed:a,shape:y,shouldShowCloseFriendsBadge:z,storyStatus:C,children:j}))}}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:22360","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22360")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWChatComposerMentionsUtils","MWXIconGroup","gkx","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=h._(/*BTDS*/"Meta AI").toString();e=h._(/*BTDS*/"\u8cea\u554f\u3057\u3066\u307f\u3088\u3046").toString();var m=h._(/*BTDS*/"\u5168\u54e1").toString(),n=c("gkx")("20836"),o={decorType:"regular",handle:l,key:"0",label:l,rawData:{image:i("405460"),subtitle:e},type:"entry"};function a(a,b,e,f,g,i,p,q){var r=a.query,s=q!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(q)&&d("LSMessagingThreadTypeUtil").isGroup(q);q=q!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(q)&&d("LSMessagingThreadTypeUtil").isGroup(q);q=q&&c("qex")._("1303")===!0;var t=[],u=[];g===!0&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(l,r)&&t.push(o);if(g===!0?i:!0){b.forEach(function(a){var b=a.actualName,e=a.blockedByViewerStatus,f=a.contactId,g=a.nickname,h=a.profilePictureUrl;a=a.secondaryName;if(e!=null&&!(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)))return;e=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,r)?e="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,r)?e="name":g!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,r)&&(e="nickname");if(e!=null&&h!=null){var i=a;s?i=g!=null?g:b:i==null&&(i=a!=null?a:e==="nickname"?g!=null?g:b:b);t.push({decorType:"regular",handle:i,key:f+" "+e,label:b,rawData:{photoURI:h,source:e,subtitle:a!=null?a:g},type:"entry"})}});if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(m,r)&&(n||s||q)){g=h._(/*BTDS*/"\u3053\u306e\u30c1\u30e3\u30c3\u30c8\u3067\u5168\u54e1\u306b\u30e1\u30f3\u30b7\u30e7\u30f3\u3057\u307e\u3059").toString();u.push({decorType:"regular",handle:m,key:""+e,label:m,rawData:{icon:c("MWXIconGroup"),source:"all",subtitle:g},type:"entry"})}if(n){i=h._(/*BTDS*/"\u30a2\u30af\u30c6\u30a3\u30d6").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(i,r)){b=h._(/*BTDS*/"\u3053\u306e\u30c1\u30e3\u30c3\u30c8\u30671\u6642\u9593\u4ee5\u5185\u306b\u30aa\u30f3\u30e9\u30a4\u30f3\u3060\u3063\u305f\u4eba\u5168\u54e1\u306b\u30e1\u30f3\u30b7\u30e7\u30f3\u3057\u307e\u3059").toString();u.push({decorType:"regular",handle:i,key:e+"-active",label:i,rawData:{icon:c("MWXIconGroup"),source:"all",subtitle:b},type:"entry"})}}}g=s||q?[].concat(t.slice(0,p),u):[].concat(t,u).slice(0,p);g.length<p&&f&&f(r,p-g.length);return{entries:g,params:a}}function b(a){switch(a){case l:return"ai";case m:return"t";default:return"p"}}g.aiBotMentionsEntry=o;g.fetchCacheComposerMentionsTypeahead=a;g.commandToRangeType=b}),226);
__d("MWChatRecorderUtils",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a+b.length},0)}function a(a){var b=h(a),c=new Float32Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.length},0);return c}function b(a,b){var c=h([a,b]);return new Float32Array(c).map(function(c,d){c=Math.floor(d/2);if(d%2===0)return a[c];else return b[c]})}function i(a,b,c){c.forEach(function(c,d){c=Math.max(-1,Math.min(1,c));d=b+(d<<1);c=c<0?Math.abs(c)*-32768:Math.abs(c)*32767;a.setInt16(d,c,!0)})}function j(a,b,c){Array.from(c).forEach(function(d,e){d=c.charCodeAt(e);a.setUint8(b+e,d)})}function k(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;var d=a.length;d=d<<1;var e=new ArrayBuffer(44+d);e=new DataView(e);j(e,0,"RIFF");e.setUint32(4,36+d,!0);j(e,8,"WAVE");j(e,12,"fmt ");e.setUint32(16,16,!0);e.setUint16(20,1,!0);e.setUint16(22,b,!0);e.setUint32(24,c,!0);e.setUint32(28,c*b*2,!0);e.setUint16(32,b*2,!0);e.setUint16(34,16,!0);j(e,36,"data");e.setUint32(40,d,!0);i(e,44,a);return e}function c(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;var d=k({numberOfChannels:b,sampleRate:c,samples:a}),e=new Date().getTime();b=Math.round(l({numberOfChannels:b,sampleRate:c,samples:a})*1e3);return new File([d],"audioclip-"+e+"-"+b+".wav",{type:"audio/wav"})}function l(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;var e=Float32Array.BYTES_PER_ELEMENT;a=a.byteLength/e/b;return a/c%d("DateConsts").SEC_PER_MIN}function m(a,b,c){return a+(b-a)*c}function e(a,b){var c=new Array(Math.ceil(b));if(b===0||a.length===0)return c;if(b===a.length)return Array.from(a);if(a.length===1)return c.fill(a[0]);c[0]=a[0];var d=(a.length-1)/(b-1);for(var e=1;e<b;e++){var f=e*d,g=Math.floor(f),h=Math.ceil(f);f=f-g;c[e]=m(a[g],a[h],f)}b>=2&&(c[c.length-1]=a[a.length-1]);return c}function f(a,b,c){var d=Math.min.apply(Math,a),e=Math.max.apply(Math,a),f=e-d,g=c-b;return a.map(function(a){return(a-d)/f*g+b})}g.getTotalBuffersLen=h;g.flattenBuffer=a;g.interleave=b;g.exportWAV=c;g.getAudioDuration=l;g.computeWaveformAmplitudes=e;g.linearConversion=f}),98);
__d("MWPAudioHighlightStylesHooks",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function a(a){return i(function(){return[j.root,a?j.outgoing:j.incoming]},[a])}g.useHighlightStyles=a}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));c=h;e=c.createContext;var k=c.useContext;c={threadKey:(i||(i=d("I64"))).zero};var l=e(c);function a(){return k(l).threadKey}function b(a){var b=a.children,c=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{threadKey:c}},[c]);return j.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.MWPAudioPlaybackThreadContextProvider=b}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","bx","clearTimeout","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=k||(k=d("react")),n=k,o=n.createContext,p=n.useCallback,q=n.useContext,r=n.useEffect,s=n.useMemo,t=n.useRef,u=n.useState,v=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});function w(a){var b=new Audio();b.preload="auto";b.src=a;b.load();return b}function x(){return w(c("bx").getURL(c("bx")("577")))}function y(a){var b=Array.from(v.members()),c=b.findIndex(function(b){return b===a});c=c+1;return b[c%b.length]}function z(a){return h._(/*BTDS*/"_j{\"*\":\"{playback rate}x\"}",[h._param("playback rate",a,[0])])}z.displayName=z.name+" [from "+f.id+"]";n={activeAudio:null,activeMessageId:null,activeThreadKey:(l||(l=d("I64"))).zero,addMessageId:c("emptyFunction"),addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),clearNextPlayableUrl:c("emptyFunction"),getMessageId:c("emptyFunction"),getNewOrExistingAudio:w,getNewOrExistingAudioWithRetry:function(){return(j||(j=b("Promise"))).resolve(w(""))},getNextPlayableUrl:c("emptyFunction"),maybeGetExistingAudio:c("emptyFunction"),onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:z(v.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var A=o(n);function a(a,b,c,e,f){var g=q(A),h=g.activeAudio,i=g.activeThreadKey,j=g.addMessageId,k=g.addNextPlayableUrl,m=g.clearNextPlayableUrl,n=g.getNewOrExistingAudio,o=g.setUseOutOfChatPlayback,p=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!f||(l||(l=d("I64"))).is_zero(i)||(l||(l=d("I64"))).is_zero(p))return;o(!(l||(l=d("I64"))).equal(i,p));return function(){o((l||(l=d("I64"))).equal(i,p))}},[h,i,o,f,p]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){var d=a.concat(c!=null?c:"");c!=null&&j(d,c);if(!f)return w(a);if(b!=null&&b!==""){var g=b.concat(e!=null?e:"");k(d,g);e!=null&&j(g,e)}else m(d);return n(a,p,c)}},[j,k,m,n,c,e,b,a,f,p])}function e(a,c,e,f,g){var h=q(A),i=h.activeAudio,j=h.activeThreadKey,k=h.addMessageId,m=h.addNextPlayableUrl,n=h.clearNextPlayableUrl,o=h.getNewOrExistingAudioWithRetry,p=h.maybeGetExistingAudio,r=h.setUseOutOfChatPlayback,s=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!g||(l||(l=d("I64"))).is_zero(j)||(l||(l=d("I64"))).is_zero(s))return;r(!(l||(l=d("I64"))).equal(j,s));return function(){r((l||(l=d("I64"))).equal(j,s))}},[i,j,r,g,s]);h=u(function(){var b;return(b=p(a,e))!=null?b:null});i=h[0];var t=h[1];d("Int64Hooks").useEffectInt64(function(){var d=function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(a!=null&&a!==""){var b=a.concat(e!=null?e:"");e!=null&&k(b,e);if(!g){t(w(a));return}if(c!=null&&c!==""){var d=c.concat(f!=null?f:"");m(b,d);f!=null&&k(d,f)}else n(b);d=(yield o(a,s,e));t(d);return}});return function(){return d.apply(this,arguments)}}();d()["catch"](function(){})},[k,m,n,o,e,f,c,a,g,s]);return i}function B(){var a=q(A),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function C(){var a=q(A),b=a.activeAudio,e=a.activeMessageId,g=a.activeThreadKey,h=a.clearActiveAudio,j=a.clearNextPlayableUrl,k=a.getMessageId;a=a.getNextPlayableUrl;var l=(i||(i=c("useReStore")))(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(l.tables.threads).getKeyRange(g)},[l,g],f.id+":303"),n=b==null?void 0:b.src;n=n==null?void 0:n.concat(e!=null?e:"");var o=n==null?null:a(n);e=d("ReQLSuspense").useFirst(function(){var a=o==null?null:k(o);return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(l.tables.messages.index("messageId"),["isUnsent"]).getKeyRange(a).filter(function(a){return!a.isUnsent})},[l,k,o],f.id+":313");n!=null&&o!=null&&e==null&&j(n);return[b,h,m]}function D(a){a=a.children;var e=t(new Map()),f=t(new Map()),g=t([]),h=t(new Map()),i=t(new Set());r(function(){var a=g.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var k=u(v.NORMAL),n=k[0],o=k[1],q=s(function(){return z(n)},[n]);k=u((l||(l=d("I64"))).zero);var B=k[0],C=k[1];k=u(null);var D=k[0],E=k[1];k=u(null);var F=k[0],G=k[1];k=u(!1);var H=k[0],I=k[1],J=(F==null?void 0:F.paused)===!1,K=s(function(){return H&&J?F:null},[F,J,H]),L=p(function(a,b){h.current.set(a,b)},[]),M=p(function(a){return h.current.get(a)},[]),N=p(function(){G(function(a){a!=null&&a.pause();return null}),E(null)},[]),O=p(function(a){f.current["delete"](a)},[]),P=p(function(a,b,c){var d,i=a.concat(c!=null?c:""),j=(d=e.current.get(i))!=null?d:w(a);j.playbackRate=n;d=function(a,b){j.addEventListener(a,b),g.current.push([j,a,b])};a=function(){var a=f.current.get(i);if(a!=null){var b=e.current.get(a),c=h.current.get(a);if(b!=null&&b.paused)return void x().play().then(function(){G(b);E(c);return b.play()["catch"](function(){G(null),E(null)})})}G(null);E(null)};d("ended",a);a=function(){for(var a of e.current.values())a!==j&&a.pause();G(j);E(c);C(b)};d("playing",a);e.current.set(i,j);return j},[n]),Q=p(function(a,b,c){var d,i=a.concat(c!=null?c:""),j=(d=e.current.get(i))!=null?d:w(a);j.playbackRate=n;d=function(a,b){j.addEventListener(a,b),g.current.push([j,a,b])};a=function(){var a=f.current.get(i);if(a!=null){var b=e.current.get(a),c=h.current.get(a);if(b!=null&&b.paused)return void x().play().then(function(){G(b);E(c);return b.play()["catch"](function(){G(null),E(null)})})}G(null);E(null)};d("ended",a);a=function(){for(var a of e.current.values())a!==j&&a.pause();G(j);E(c);C(b)};d("playing",a);e.current.set(i,j);return j},[n]),R=p(function(a,d,f){var g=new(j||(j=b("Promise")))(function(b,g){var h=Q(a,d,f),j=a.concat(f!=null?f:""),k=window.setTimeout(function(){h.readyState===0&&!i.current.has(j)&&(i.current.add(j),e.current["delete"](j),b(Q(a,d,f)))},2e3);h.addEventListener("durationchange",function(){c("clearTimeout")(k),b(h)})});return g},[Q]),S=p(function(a){return f.current.get(a)},[]),T=p(function(){o(function(a){a=y(a);for(var b of e.current.values())b.playbackRate=a;return a})},[]),U=p(function(a,b){f.current.set(a,b)},[]),V=p(function(a,b){if(a==null)return;a=a.concat(b!=null?b:"");return e.current.get(a)},[]);k=d("Int64Hooks").useMemoInt64(function(){return{activeAudio:K,activeMessageId:D,activeThreadKey:B,addMessageId:L,addNextPlayableUrl:U,clearActiveAudio:N,clearNextPlayableUrl:O,getMessageId:M,getNewOrExistingAudio:P,getNewOrExistingAudioWithRetry:R,getNextPlayableUrl:S,maybeGetExistingAudio:V,onChangePlaybackRate:T,playbackRateLabel:q,setUseOutOfChatPlayback:I}},[K,D,L,B,U,N,O,M,P,R,S,T,q,V]);return m.jsx(A.Provider,{value:k,children:a})}D.displayName=D.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackElementWithRetry=e;g.useMWPAudioPlaybackRate=B;g.useMWPAudioOutOfChatPlayback=C;g.MWPAudioPlaybackContextProvider=D}),226);
__d("MWPAudioPlayerSharedStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={bar:{backgroundColor:"x14hiurz",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",backgroundAttachment:"x1nr1p0w",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",outline:"x1k4qllp",$$css:!0},commonIncoming:{backgroundColor:"x1xr0vuk",$$css:!0},commonOutgoing:{backgroundColor:"x11jlvup",$$css:!0},commonOutgoingReply:{backgroundImage:"xl54vp5",$$css:!0},commonReply:{outline:"x1ucz5p",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderStartStartRadius:"x7deyu6",borderStartEndRadius:"x16vui2w",borderEndEndRadius:"x91akzj",borderEndStartRadius:"x7lp3xy",$$css:!0},rightSideImprove:{marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderInlineEndColor":"x1sx9lnh","::after_borderBottomColor":"xv84cap","::after_borderInlineStartColor":"x1bbqc8r","::after_borderStartStartRadius":"x1mt5d6h","::after_borderStartEndRadius":"xrbx7q7","::after_borderEndEndRadius":"x1e5em4g","::after_borderEndStartRadius":"x1e0i30a","::after_borderTopStyle":"xynf4tj","::after_borderInlineEndStyle":"xdjs2zz","::after_borderBottomStyle":"x1r9ni5o","::after_borderInlineStartStyle":"xvsnedh","::after_borderTopWidth":"x1gnji40","::after_borderInlineEndWidth":"x1k81zwm","::after_borderBottomWidth":"x1ekxc0f","::after_borderInlineStartWidth":"x1tjn1g5","::after_bottom":"x14apmda","::after_content":"x100rkj9","::after_display":"xhkezso","::after_insetInlineEnd":"x1qngrn4","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_insetInlineStart":"x1nalm37","::after_left":null,"::after_right":null,"::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};g.styles=a}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2});c=[a.MESSAGE_LIST_PANEL,a.INFO_PANEL];d=375;e=320;b=a.THREAD_LIST_PANEL;var g=a.MESSAGE_LIST_PANEL,h=3;f.MWLayoutPanel=a;f.MWInboxMainContentPanels=c;f.DENSE_LAYOUT_BREAKPOINT_WIDTH=d;f.DENSE_LAYOUT_BREAKPOINT_HEIGHT=e;f.DEFAULT_ONE_CARD_INDEX=b;f.DEFAULT_TWO_CARDS_INDEX=g;f.DEFAULT_MAX_CARDS_VISIBLE=h}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({_mountCard:c("emptyFunction"),_unmountCard:c("emptyFunction"),cardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:c("emptyFunction"),primaryCardIndex:d("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:c("emptyFunction"),secondaryCardIndex:null});e=b;g["default"]=e}),98);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWMediaRenderQplUtils","MWPAudioPlaybackContext.react","MWResponsiveLayoutContext.react","cancelAnimationFrame","getErrorNameFromMediaErrorCode","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","useMatchViewport","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.createContext,m=k.useCallback,n=k.useContext,o=k.useEffect,p=k.useRef,q=k.useState,r=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),s=l(r.PLAYER),t=c("gkx")("24145");function u(){var a=n(s);return t&&a===r.PLAYER}function a(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return v(c,0,1)}function v(a,b,c){return Math.min(Math.max(b,a),c)}function e(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{"aria-label":h._(/*BTDS*/"\u97f3\u58f0\u30b9\u30e9\u30a4\u30c0\u30fc"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Math.floor(b!=null?b:0),role:"slider",style:{position:"absolute"},tabIndex:0})}e.displayName=e.name+" [from "+f.id+"]";function w(){var a=u();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function x(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function y(a,b,d,e,f,g){f===void 0&&(f=!1);var h=p();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function(f){var e;if(b.current!=null)e=b.current.currentTime/b.current.duration;else{var g=i.contents,h=0;g!=null?h=f-g:i.contents=f;e=h/(a*1e3)}g=Math.min(e*100,100);d(g);if(g<100){j=c("requestAnimationFrameAcrossTransitions")(k);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return function(){j!=null&&c("cancelAnimationFrame")(j)}}if(b.current!=null){var l=b.current.currentTime/b.current.duration;d(l*100)}},[a,e,g,h,b,f,d]);return h}var z=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function A(a,b,c,e,f,g,h,i){var j=u();a=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,c,e,j);return C(a,j,f,g,h,i)}function B(a,b,c,e,f,g,h,i){var j=u();a=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElementWithRetry(a,b,c,e,j);return C(a,j,f,g,h,i)}function C(a,b,e,f,g,h){var i=c("useStable")(function(){return e}),j=p(a),k=q(z.NONE),l=k[0],n=k[1];k=q(function(){var b;return(b=a==null?void 0:a.currentTime)!=null?b:0});var r=k[0],s=k[1];o(function(){if(a==null){n(z.NONE);h==null||h.addAnnotations({string:{audio_initial_state:"none"}});return}a.ended?(n(z.ENDED),h==null||h.addAnnotations({string:{audio_initial_state:"ended"}})):n(function(){if(a.paused){h==null||h.addAnnotations({string:{audio_initial_state:"paused"}});return z.PAUSED}h==null||h.addAnnotations({string:{audio_initial_state:"playing"}});return z.PLAYING});s(a.currentTime);j.current=a},[a,h]);o(function(){var a=j.current;h==null||h.addPoint("render-audio-player-controller",{bool:{has_audio:a!=null},"int":{audio_ready_state:a==null?void 0:a.readyState},string:{audio_duration_bucket:a!=null?d("MWMediaRenderQplUtils").convertDurationToStringBucket(a.duration):null}});if(a==null)return;var e=function(a){a=a.currentTarget;a=a.error;var b=c("getErrorNameFromMediaErrorCode")(a==null?void 0:a.code);h==null||h.endFail("load-audio-error",{string:{audio_error_message:a==null?void 0:a.message,audio_error_name:b}})},f=function(){h==null||h.endSuccess()},g=function(){n(z.PAUSED),h==null||h.addPoint("audio-paused",{"int":{audio_ready_state:a.readyState}})},i=function(){n(z.PLAYING),h==null||h.addPoint("audio-played",{"int":{audio_ready_state:a.readyState}})},k=function(){n(z.LOADING),h==null||h.addPoint("load-start",{"int":{audio_ready_state:a.readyState}})},l=function(){j.current!=null&&s(j.current.currentTime)},m=function(){j.current!=null&&(j.current.currentTime=0,s(0)),n(z.ENDED)},o=function(){h==null||h.addPoint("audio-duration-change",{"int":{audio_ready_state:a.readyState}})},p=function(){h==null||h.addPoint("loaded-metadata",{"int":{audio_ready_state:a.readyState}})},q=function(){h==null||h.addPoint("loaded-data",{"int":{audio_ready_state:a.readyState}})},r=function(){j.current=a,g(),h==null||h.addPoint("can-play",{"int":{audio_ready_state:a.readyState}}),f()},t=function(){h==null||h.addPoint("can-play-through",{"int":{audio_ready_state:a.readyState}})},u=function(){h==null||h.addPoint("audio-aborted",{"int":{audio_ready_state:a.readyState}})},v=function(){h==null||h.addPoint("audio-stalled",{"int":{audio_ready_state:a.readyState}})},w=function(){h==null||h.addPoint("audio-suspended",{"int":{audio_ready_state:a.readyState}})},x=function(){h==null||h.addPoint("audio-emptied",{"int":{audio_ready_state:a.readyState}})};a!=null&&a.readyState>=2&&f();a.addEventListener("loadstart",k);a.addEventListener("timeupdate",l);a.addEventListener("playing",i);a.addEventListener("pause",g);a.addEventListener("ended",m);a.addEventListener("error",e);a.addEventListener("durationchange",o);a.addEventListener("loadedmetadata",p);a.addEventListener("loadeddata",q);a.addEventListener("canplay",r);a.addEventListener("canplaythrough",t);a.addEventListener("stalled",v);a.addEventListener("suspend",w);a.addEventListener("abort",u);a.addEventListener("emptied",x);return function(){a.removeEventListener("loadstart",k),a.removeEventListener("timeupdate",l),a.removeEventListener("playing",i),a.removeEventListener("pause",g),a.removeEventListener("ended",m),a.removeEventListener("error",e),a.removeEventListener("durationchange",o),a.removeEventListener("loadedmetadata",p),a.removeEventListener("loadeddata",q),a.removeEventListener("canplay",r),a.removeEventListener("canplaythrough",t),a.removeEventListener("stalled",v),a.removeEventListener("suspend",w),a.removeEventListener("abort",u),a.removeEventListener("emptied",x),b||a.pause()}},[a,h,b]);k=m(function(){var a=j.current;if(a==null)return;switch(l){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(a.play(),function(){return n(z.PLAYING)},function(a){i(),h==null||h.addAnnotations({string:{"play-error":a.name}})});h==null||h.addPoint("audio-play-clicked",{"int":{audio_ready_state:a.readyState}});return;case z.PLAYING:a.pause();n(z.PAUSED);h==null||h.addPoint("audio-pause-clicked",{"int":{audio_ready_state:a.readyState}});return}},[h,i,l]);var t=m(function(a){var b=j.current;if(b==null)return;b.currentTime=a;s(a)},[]);return[l,r,j,k,y(g,j,r,l===z.PLAYING,f,l===z.ENDED),t]}function D(){var a=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),b=a[0],e=a[1];a=a[2];var f=q(function(){if(b==null)return z.NONE;return b.ended?z.ENDED:b.paused?z.PAUSED:z.PLAYING}),g=f[0],h=f[1];f=q(function(){return b!=null?b.duration-b.currentTime:0});var i=f[0],j=f[1];o(function(){if(b==null)return;var a=function(){return j(b.duration-b.currentTime)},d=function(){return h(z.LOADING)},e=function(){return h(z.ENDED)};b.addEventListener("timeupdate",a);b.addEventListener("loadstart",d);b.addEventListener("ended",e);c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return function(){b.removeEventListener("timeupdate",a),b.removeEventListener("loadstart",d),b.removeEventListener("ended",e)}},[b]);f=m(function(){if(b==null)return;switch(g){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return;case z.PLAYING:b.pause();h(z.PAUSED);return}},[b,g]);return[a,g===z.PLAYING,b!=null&&a!=null&&t,i,f,e]}function E(a,b){var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=n(c("MWResponsiveLayoutContext.react"));f=f.cardsVisible;var g=c("useMatchViewport")("max","width",750),h=c("useMatchViewport")("max","width",1060),i=!1;g&&f===2?i=!0:h&&f===3&&(i=!0);return(a!=null?a:e==="Inbox")?i?180:218:e==="ChatTab"&&b===!0?148:180}function F(a){var b=u();return b&&a===r.PLAYER?70:36}g.UseCase=r;g.UseCaseContext=s;g.isEnabled=t;g.useShowNewUX=u;g.getMousePos=a;g.ScreenReaderLabel=e;g.usePlaybackButtonContainerStyle=w;g.useResetHighlightProgress=x;g.useProgressLiveUpdate=y;g.State=z;g.useControlCenter=A;g.useControlCenterWithRetry=B;g.useOutOfChatControlCenter=D;g.useCalculatePlayerWidth=E;g.useCalculatePlayerHeight=F}),226);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.outgoing;var b=d("MWPAudioPlayerUtils").useShowNewUX(),e=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),f=e[0];e=e[1];if(!b)return null;b=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return j.jsx(c("MWXPressable.react"),{onPress:e,overlayDisabled:!0,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,d("MWPAudioPlayerSharedStyles").styles.rightSideMargin,d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:b},children:f})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.disabled,e=a.icon,f=a.label;a.onHoverMove;a=a.onPress;var g=d("MWPAudioPlayerUtils").useShowNewUX(),h=g?{backgroundColor:"transparent"}:{};return j.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:b,onPress:a,overlayDisabled:g,overlayRadius:"50%",style:h,testid:void 0,xstyle:d("MWPAudioPlayerSharedStyles").styles.pressable,children:e})}b.displayName=b.name+" [from "+f.id+"]";g.PlaybackRateButton=a;g.AudioPlayerPlaybackButton=b}),98);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=a.audioEl,e=a.children,f=a.hasScrubber,g=a.mediaRenderQpl,i=a.scrubberRef,m=a.style,n=a.testid,o=a.useCase,p=d("MWPAudioPlayerUtils").useShowNewUX(),q=l();n=function(a){var c=b.current,e=q.current;c!=null&&e!=null&&Number.isFinite(c.duration)&&(c.currentTime=d("MWPAudioPlayerUtils").getMousePos(a,e)*c.duration)};a=function(a){if(q.current!=null&&i.current!=null)return i.current.updateHighlight(d("MWPAudioPlayerUtils").getMousePos(a,q.current)*100)};var r=function(){if(i.current!=null)return i.current.updateHighlight(0)},s=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(o);s=babelHelpers["extends"]({cursor:f?"pointer":"default",height:s},m);m=f&&!p;k(function(){g==null||g.addPoint("render-audio-player-container",{bool:{show_new_ux:p},string:{use_case:o===d("MWPAudioPlayerUtils").UseCase.PLAYER?"Player":"Recorder"}})},[g,p,o]);return j.jsx(d("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:o,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:m?n:void 0,onMouseLeave:f?r:void 0,onMouseMove:m?a:void 0,ref:q,style:s,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");b=a;function a(a){var b=a.ref,e=a.xPosition,f=a.currentTime;a=a.duration;return k.jsx("div",{"aria-label":h._(/*BTDS*/"\u97f3\u58f0\u30b9\u30e9\u30a4\u30c0\u30fc"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":f,className:(i||(i=c("stylex")))(f===0?d("MWPAudioPlayerSharedStyles").styles.transparentBar:d("MWPAudioPlayerSharedStyles").styles.bar),ref:b,role:"slider",style:{left:e.toFixed(2)+"%"}})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["disabled","hasEnded","isPlaying","outgoing","scrubberLeft"],i,j,k=j||(j=d("react"));b=j;var l=b.useLayoutEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),q=3,r=3,s=44,t=4;function u(a,b){var c=m(function(){return a==null||a===""||a==="0,0"?p:Float32Array.from(a.split(",").map(Number))},[a]);return m(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(r*2));a=d("MWChatRecorderUtils").linearConversion(d("MWChatRecorderUtils").computeWaveformAmplitudes(c,a),t,s);return a.map(function(a,b){a=Math.ceil(a);var c=q,d=r;b=b*r*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function v(a){var b=a.disabled,e=b===void 0?!1:b;b=a.hasEnded;var f=b===void 0?!1:b;b=a.isPlaying;var g=b===void 0?!1:b,j=a.outgoing,m=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,h);var p=n(null);a=o("auto");var q=a[0],r=a[1];l(function(){var a=p.current;r(function(){if(e)return"var(--disabled-button-text)";var b="auto";(f||g)&&(b=j===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)");if(a==null)return b;var c=a.getBoundingClientRect();c=c.left;return m>c?j===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":b})},[e,f,g,j,m]);a=(i||(i=c("stylex")))(j===!0?d("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle:d("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle);return k.jsx("rect",babelHelpers["extends"]({},b,{className:a,ref:p,style:{fill:q}}))}v.displayName=v.name+" [from "+f.id+"]";function a(a){var b=a.disabled,e=a.hasEnded,f=a.isListened,g=a.isPlaying,h=a.outgoing,j=a.scrubberLeft;a=a.waveformData;var m=n(null),p=o(0),q=p[0],r=p[1],s=e===!0||f===!0;l(function(){if(m.current!=null){var a=m.current.getBoundingClientRect();r(a.width)}},[]);p=u(a,q);return p.length===0?k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.waveform),{ref:m})):k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.waveform),{ref:m,children:k.jsx("svg",babelHelpers["extends"]({"aria-hidden":!0},i.props(d("MWPAudioPlayerSharedStyles").styles.mask),{children:p.map(function(a,c){return k.createElement(v,babelHelpers["extends"]({},a,{disabled:b,hasEnded:s,isPlaying:g,key:c,outgoing:h,scrubberLeft:j}))})}))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerHighlight.react",["fbt","MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useImperativeHandle,m=b.useLayoutEffect,n=b.useRef,o=b.useState;function p(a){var b,e,f=a.audioEl,g=a.children,j=a.disabled,p=a.duration,r=a.hasEnded,s=a.isListened,t=a.isPlaying;t=t===void 0?!0:t;var u=a.onUpdateScrubber,v=a.outgoing,w=a.ref,x=a.waveformData;a=a.xstyle;var y=d("MWPAudioPlayerUtils").useShowNewUX(),z=n(),A=n(),B=o(0),C=B[0],D=B[1];B=o(0);var E=B[0],F=B[1];m(function(){if((f==null?void 0:f.current)!=null&&A.current!=null&&p!=null&&p>0){var a=f.current.currentTime,b=A.current;F(q(b,a/p*100))}},[f,p]);l(w,function(){return{updateHighlight:function(a){var b=z.current,c=A.current;if(b==null)return;if(y){if(c!=null){c=q(c,a);F(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[y]);B=function(a){if(z.current!=null){var b,c;b=(b=z.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=z.current)==null?void 0:c.offsetWidth)!=null?c:0;D(b/c*100);if(p!=null&&p>0){b=d("MWPAudioPlayerUtils").getMousePos(a,z.current)*p;if(u!=null&&A.current!=null){c=A.current;u(b);F(q(c,b/p*100))}}}};w=Math.floor((w=f==null||(b=f.current)==null?void 0:b.currentTime)!=null?w:0);if(y){var G;return k.jsxs(k.Fragment,{children:[g,k.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.highlight,d("MWPAudioPlayerSharedStyles").styles.scrubber),{onMouseDownCapture:B,ref:z,children:[k.jsx(c("MWPAudioPlayerScrubberBar.react"),{currentTime:w,duration:(g=f==null||(G=f.current)==null?void 0:G.duration)!=null?g:0,ref:A,xPosition:C}),k.jsx(c("MWPAudioPlayerWaveform.react"),{disabled:j,hasEnded:r,isListened:s,isPlaying:t,outgoing:v,scrubberLeft:E,waveformData:x})]}))]})}return k.jsx("div",babelHelpers["extends"]({"aria-label":h._(/*BTDS*/"\u97f3\u58f0\u30b9\u30e9\u30a4\u30c0\u30fc"),"aria-valuemax":(B=f==null||(e=f.current)==null?void 0:e.duration)!=null?B:0,"aria-valuemin":0,"aria-valuenow":w},(i||(i=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.highlight,a),{ref:z,role:"slider"}))}p.displayName=p.name+" [from "+f.id+"]";function q(a,b){a.style.left=b.toFixed(2)+"%";a.style.transition="transform 1s ease-out";b=a.getBoundingClientRect();a=b.left;return a}function a(a){var b=a.disabled,c=a.hasScrubber,e=a.progressHighlightRef,f=a.scrubberRef,g=a.audioEl,h=a.children,i=a.currentTime,j=a.duration,l=a.hasEnded,m=a.isListened,n=a.isPlaying;n=n===void 0?!0:n;var o=a.onUpdateScrubber,q=a.outgoing,r=a.waveformData;a=a.xstyle;var s=d("MWPAudioPlayerUtils").useShowNewUX();return s?k.jsx(p,{audioEl:g,disabled:b,duration:j,hasEnded:l,isListened:m,isPlaying:n,onUpdateScrubber:o,outgoing:q,ref:e,waveformData:r,xstyle:a,children:h}):k.jsxs(k.Fragment,{children:[k.jsx(p,{ref:e,xstyle:a}),c?k.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:i,duration:j}):null,k.jsx(p,{ref:f,xstyle:a}),h]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPAudioPlayerHighlightV1=p;g.MWPAudioPlayerHighlightV2=a}),226);
__d("MWPAudioPlayerIcons.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}b.displayName=b.name+" [from "+f.id+"]";function c(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}c.displayName=c.name+" [from "+f.id+"]";g.PlayIcon=a;g.StopIcon=b;g.PauseIcon=c}),98);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function m(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function a(a){var b=a.audioEl;a=a.children;var d=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=m(a)},[b]),e=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=m(a)},[b]),f=k(function(){b.current!=null&&(b.current.currentTime=0)},[b]),g=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),i=l(function(){var a;return[{command:{key:(a=c("CometKeys")).UP},description:h._(/*BTDS*/"\u30b9\u30e9\u30a4\u30c0\u30fc\u306e\u5024\u30921\u6bb5\u968e\u4e0a\u3052\u307e\u3059\u3002"),handler:e},{command:{key:a.DOWN},description:h._(/*BTDS*/"\u30b9\u30e9\u30a4\u30c0\u30fc\u306e\u5024\u30921\u6bb5\u968e\u4e0b\u3052\u307e\u3059\u3002"),handler:d},{command:{key:a.LEFT},description:h._(/*BTDS*/"\u30b9\u30e9\u30a4\u30c0\u30fc\u306e\u5024\u30921\u6bb5\u968e\u4e0b\u3052\u307e\u3059\u3002"),handler:d},{command:{key:a.RIGHT},description:h._(/*BTDS*/"\u30b9\u30e9\u30a4\u30c0\u30fc\u306e\u5024\u30921\u6bb5\u968e\u4e0a\u3052\u307e\u3059\u3002"),handler:e},{command:{key:a.HOME},description:h._(/*BTDS*/"\u30b9\u30e9\u30a4\u30c0\u30fc\u306e\u5024\u3092\u6700\u5c0f\u5024\u307e\u3067\u4e0b\u3052\u307e\u3059\u3002"),handler:f},{command:{key:a.END},description:h._(/*BTDS*/"\u30b9\u30e9\u30a4\u30c0\u30fc\u306e\u5024\u3092\u6700\u5927\u5024\u307e\u3067\u4e0a\u3052\u307e\u3059\u3002"),handler:g}]},[d,e,f,g]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPAudioPlayerLabels",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"\u518d\u751f");b=h._(/*BTDS*/"\u97f3\u58f0\u9332\u97f3\u3092\u505c\u6b62");c=h._(/*BTDS*/"\u4e00\u6642\u505c\u6b62");g.playLabel=a;g.stopLabel=b;g.pauseLabel=c}),226);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","formatDurationSeconds","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.disabled;b=b===void 0?!1:b;var e=a.outgoing;e=e===void 0?!0:e;a=a.time;var f=d("MWPAudioPlayerUtils").useShowNewUX();b=f?{color:e?b?"var(--disabled-button-text)":"var(--always-white)":b?"var(--disabled-button-text)":"var(--progress-ring-neutral-foreground)"}:{color:e?"var(--chat-composer-button-color)":"var(--always-black)",cursor:"pointer"};return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,!f&&d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,f&&d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),"data-testid":void 0,role:"timer",style:b,children:c("formatDurationSeconds")(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAGetMediaDevicesSupportedConstraints",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){try{var a;a=(a=navigator.mediaDevices)==null?void 0:a.getSupportedConstraints();return a}catch(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getSupportedConstraints is not supported in this browser. Error: ",""])),a);return null}}g.getMediaDevicesSupportedConstraints=a}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetMediaDevicesSupportedConstraints","WAGetSafeQPLError","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.useCallback,m=k.useEffect,n=k.useReducer,o=k.useRef;function a(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function e(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function p(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.duration;case"Recorded":case"Playing":return Math.max(a.duration-a.currentTime,0)}}function q(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.recordingTimeout;case"Recorded":case"Playing":return a.duration}}function r(a){switch(a.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return a.currentTime}}function s(a){switch(a.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function t(a){if(a.stage==="Recorded")return a.currentTime===0;else return!1}function u(a){switch(a.stage){case"Recording":return d("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return d("MWPAudioPlayerLabels").playLabel;case"Playing":return d("MWPAudioPlayerLabels").pauseLabel}}function v(a,b){switch(a.stage){case"Recording":return j.jsx(d("MWPAudioPlayerIcons.react").StopIcon,{color:b});case"Unopen":case"Recorded":return j.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:b});case"Playing":return j.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:b})}}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){switch(b.type){case"Start":return{duration:0,mediaStream:b.mediaStream,recordingTimeout:b.recordingTimeout,stage:"Recording"};case"Toggle":switch(a.stage){case"Unopen":return a;case"Recording":return{currentTime:0,duration:a.duration,stage:"Recorded"};case"Recorded":return{currentTime:a.currentTime,duration:a.duration,stage:"Playing"};case"Playing":return{currentTime:a.currentTime,duration:a.duration,stage:"Recorded"}}break;case"UpdateDuration":if(a.duration!=null&&b.duration<a.duration)return a;var c=b.duration;switch(a.stage){case"Unopen":return a;case"Recording":return{duration:c,mediaStream:a.mediaStream,recordingTimeout:a.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:a.currentTime,duration:c,stage:"Recorded"};case"Playing":return{currentTime:a.currentTime,duration:c,stage:"Playing"}}break;case"UpdateTime":c=b.currentTime;switch(a.stage){case"Unopen":case"Recording":return a;case"Recorded":var d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Recorded"};case"Playing":d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Playing"}}break;case"RecordingTimeout":return{currentTime:0,duration:b.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var x={stage:"Unopen"},y=1;function z(a){var e=a.maxDuration,f=e===void 0?60:e;e=a.logClickStartRecording;var g=e===void 0?c("emptyFunction"):e;e=a.logBrowserDenyAccess;var i=e===void 0?c("emptyFunction"):e,j=a.createVoiceRecordQpl,k=((e=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:e.sampleRate)===!0;a=n(w,x);var p=a[0],q=a[1],r=c("useIsMountedRef")(),s=o(),t=o([]),u=o([]),v=o(),z=o(),A=o(),B=o(),C=o(),D=o(c("emptyFunction")),E=l(function(a){var b=a[0],c=a[1];if(!r.current)return;a=URL.createObjectURL(b);A.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){z.current=d;var a=d.duration;q({duration:a,type:"UpdateDuration"});a={duration:a,file:b,waveformData:c};B.current=a;D.current(a);(a=C.current)==null||a.endSuccess()});d.addEventListener("timeupdate",function(){var a;a=(a=z.current)==null?void 0:a.currentTime;a!=null&&q({currentTime:a,type:"UpdateTime"})});d.addEventListener("durationchange",function(){var a;a=(a=z.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&q({duration:a,type:"UpdateDuration"})})},[r]),F=l(function(){if(s.current==null||v.current==null)return;v.current.postMessage({buffersL:t.current,buffersR:y===2?u.current:null,sampleRate:s.current})},[]);m(function(){if(p.stage!=="Recording")return;t.current=[];u.current=[];var a=c("AudioContextSingleton").get({sampleRate:k?44100:void 0}),b=a.destination;s.current=a.sampleRate;var d=p.mediaStream,e=a.createScriptProcessor(4096,y,y);a=a.createMediaStreamSource(d);v.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(E).setAllowCrossPageTransition(!0).execute();var f=function(a){p.stage==="Recording"&&a instanceof AudioProcessingEvent&&(t.current.push(a.inputBuffer.getChannelData(0).slice()),y===2&&u.current.push(a.inputBuffer.getChannelData(1).slice()))};e.addEventListener("audioprocess",f);a.connect(e);e.connect(b);g();return function(){d.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),e.removeEventListener("audioprocess",f)}},[E,g,p.stage,p.mediaStream,k]);var G=c("usePrevious")(p);m(function(){(G==null?void 0:G.stage)==="Recording"&&p.stage==="Recorded"&&F()},[G==null?void 0:G.stage,F,p.stage]);m(function(){if(p.stage!=="Recording")return;var a=Date.now(),b,d=function(){var e=(Date.now()-a)/1e3;if(e>=f){q({recordingTimeout:f,type:"RecordingTimeout"});return}q({duration:e,type:"UpdateDuration"});b=c("setTimeout")(d,1e3)};b=c("setTimeout")(d,1e3);return function(){b!=null&&c("clearTimeout")(b)}},[f,p.stage]);e=l(function(a){var b=j==null?void 0:j();C.current=b;b==null||b.start({startInfo:{isOpusRecorder:!1}});q({mediaStream:a,recordingTimeout:f,type:"Start"})},[f,j]);a=l(function(){var a;(a=C.current)==null||a.endCancel();q({type:"Reset"});(a=z.current)==null||a.pause();z.current=void 0;B.current=void 0;s.current=void 0;a=A.current;a!=null&&(URL.revokeObjectURL(a),A.current=void 0)},[]);var H=l(function(){var a=function(){q({maxDuration:f,type:"Toggle"})},b=z.current;if(b==null){a();return}switch(p.stage){case"Unopen":a();break;case"Recording":var c;(c=C.current)==null||c.addPoint("stop-recording");a();break;case"Recorded":(c=C.current)==null||c.addPoint("play-audio");b.play().then(a)["catch"](function(a){var b;(b=C.current)==null||b.endFail("browser-deny-access",{string:{failReason:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}});i()});break;case"Playing":(c=C.current)==null||c.addPoint("pause-playing");b.pause();a();break}},[i,p.stage]),I=l(function(){return new(h||(h=b("Promise")))(function(a){var b=B.current;if(b!=null)return a(b);D.current=a;if(p.stage==="Recording")return H()})},[p,H]);return{audioEl:z,getVoiceClip:I,reset:a,start:e,state:p,toggle:H}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=p;g.getDuration=q;g.getCurrentTime=r;g.isProgressing=s;g.isCompleted=t;g.getPlaybackLabel=u;g.getPlaybackIcon=v;g.useVoiceRecorder=z}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return b}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");a=a.replace(" secondaryName","");return a}var i=function(a){function b(b,c){var d=b.id,e=b.prefix;e=e===void 0?"@":e;b=b.text;b=a.call(this,k(b,e),c)||this;b.__contactID=h(d);b.__prefix=e;return b}babelHelpers.inheritsLoose(b,a);b.getType=function(){return"actor"};b.clone=function(a){return new b({id:a.__contactID,prefix:a.__prefix,text:l(a.__text,a.__prefix)},a.__key)};b.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=b.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},a.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:l(this.__text,this.__prefix),type:"actor"})};c.createDOM=function(b){b=a.prototype.createDOM.call(this,b);b.className="xv78j7m xt0e3qv x3jgonx";b.spellcheck=!1;return b};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};c.getRangeType=function(){return d("MWChatComposerTypeaheadUtil").commandToRangeType(l(this.__text,this.__prefix))};return b}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a,b){b===void 0&&(b="segmented");return new i(a).setMode(b).toggleDirectionless()}function a(a){return a instanceof i}function k(a,b){return a.startsWith(b)?a:""+b+a}function l(a,b){return a.startsWith(b)?a.slice(b.length):a}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);