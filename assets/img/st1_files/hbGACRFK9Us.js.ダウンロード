;/*FB_PKG_DELIM*/

__d("FDSNullState.react",["FDSIcon.react","FDSTextPairing.react","IconSource","SVGIcon","react","react-strict-dom","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["action","body","bodyColor","headline","headlineColor","icon","iconColor","small"],j,k=j||d("react"),l={button:{marginTop:"xqui205",$$css:!0},image:{marginBottom:"xieb3on",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"x1p5oq8j",paddingInlineEnd:"x64bnmy",paddingBottom:"xwxc41k",paddingInlineStart:"x13jy36j",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.action,f=a.body;f=f===void 0?null:f;var g=a.bodyColor;g=g===void 0?"secondary":g;var j=a.headline,m=a.headlineColor;m=m===void 0?"secondary":m;var n=a.icon,o=a.iconColor,p=a.small;p=p===void 0?!1:p;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var q=c("useCurrentDisplayMode")();q=q==="dark";p=p?4:2;o=n!=null?n instanceof c("IconSource")||n instanceof d("SVGIcon").SVGIcon?k.jsx(c("FDSIcon.react"),{color:o,icon:n,size:112}):k.jsx(c("FDSIcon.react"),{icon:q&&n.dark!=null?n.dark:n["default"],size:112}):null;return k.jsxs(d("react-strict-dom").html.div,babelHelpers["extends"]({style:l.root},a,{ref:b,children:[k.jsx(d("react-strict-dom").html.div,{style:l.image,children:o}),k.jsx(c("FDSTextPairing.react"),{body:f,bodyColor:g,headline:j,headlineColor:m,isSemanticHeading:!0,level:p,textAlign:"center"}),e!=null?k.jsx(d("react-strict-dom").html.div,{style:l.button,children:e}):null]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDForwardSingleAttachmentFromMessage",["FBLogger","asyncToGeneratorRuntime","forwardAttachment","react-compiler-runtime","useGetForwardSource"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){var f=d.candidate;d=d.type;f=f.id;d=d==="thread"?2:1;return c("forwardAttachment")(a,f,d,b.senderId,e)}function a(a,e){var f=d("react-compiler-runtime").c(4),g=c("useGetForwardSource")(),i;f[0]!==a||f[1]!==e||f[2]!==g?(i=function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{yield h(a,e,b,g)}catch(a){b=a;c("FBLogger")("igd_web").catching(b).mustfix("IGD failure forwarding an attachment")}});return function(a){return d.apply(this,arguments)}}(),f[0]=a,f[1]=e,f[2]=g,f[3]=i):i=f[3];return i}g["default"]=a}),98);
__d("useIGDGetMessageFromAttachment",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(6),e=(h||(h=c("useReStore")))(),g;b[0]!==a.messageId||b[1]!==e.tables.messages?(g=function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageId")).getKeyRange(a.messageId)},b[0]=a.messageId,b[1]=e.tables.messages,b[2]=g):g=b[2];var i;b[3]!==a.messageId||b[4]!==e?(i=[e,a.messageId],b[3]=a.messageId,b[4]=e,b[5]=i):i=b[5];b=d("ReQLSuspense").useFirst(g,i,f.id+":23");return b}g["default"]=a}),98);
__d("IGDMediaViewerControls.react",["fbt","CometPressable.react","FBLogger","I64","IGDContactSearchDialogType.flow","IGDSBox.react","IGDSDialogPlaceholder.react","IGDSDownloadPanoOutline24Icon.react","IGDSForwardOutlineIcon.react","IGDSXPanoFilledIcon.react","JSResourceForInteraction","LSIntEnum","MessagingAttachmentType","Promise","asyncToGeneratorRuntime","react","react-compiler-runtime","useIGDForwardSingleAttachmentFromMessage","useIGDGetMessageFromAttachment","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={controlsContainer:{insetInlineEnd:"xo2ifbc",left:null,right:null,top:"x1eu8d0j",zIndex:"x1vjfegm",$$css:!0}},o=h._(/*BTDS*/"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),p=h._(/*BTDS*/"\u8ee2\u9001");function q(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=m.jsx(c("CometPressable.react"),babelHelpers["extends"]({overlayDisabled:!0},a,{children:a.children})),b[0]=a,b[1]=e):e=b[1];return e}function r(a){var e=d("react-compiler-runtime").c(9),f=a.attachment;a=a.message;var g=c("useIGDForwardSingleAttachmentFromMessage")(f,a);e[0]!==g?(f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=Array.from(a.values()).map(function(a){return g(a)});yield (i||(i=b("Promise"))).allSettled(a)});return function(b){return a.apply(this,arguments)}}(),e[0]=g,e[1]=f):f=e[1];var j=f;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("IGDAWOminipickerDialog.react").__setRef("IGDMediaViewerControls.react"),e[2]=a):a=e[2];f=c("useIGDSLazyDialog")(a,t);var k=f[0];e[3]!==j||e[4]!==k?(a=function(){k({includeGroup:!0,loggingEventName:"forward_thread_attempt",maxRecipients:5,onSubmit:j,searchType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE,submitButtonLabel:h._(/*BTDS*/"\u9001\u4fe1").toString(),titleLabel:h._(/*BTDS*/"\u8ee2\u9001").toString()},s)},e[3]=j,e[4]=k,e[5]=a):a=e[5];f=a;e[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=m.jsx(c("IGDSForwardOutlineIcon.react"),{alt:p,size:18}),e[6]=a):a=e[6];e[7]!==f?(a=m.jsx(q,{onPress:f,children:a}),e[7]=f,e[8]=a):a=e[8];return a}function s(){}function t(a){return m.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}t.displayName=t.name+" [from "+f.id+"]";var u=h._(/*BTDS*/"\u9589\u3058\u308b");function a(a){var b=d("react-compiler-runtime").c(16),e=a.attachment;a=a.onClose;var f=e.playableUrl;f==null&&c("FBLogger")("igd_web").warn("IGDMediaViewerControls: downloadUrl is null");var g=c("useIGDGetMessageFromAttachment")(e),h=e.attachmentType,i;b[0]!==h?(i=(j||(j=d("I64"))).equal(h,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(j||(j=d("I64"))).equal(h,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)),b[0]=h,b[1]=i):i=b[1];h=i;b[2]!==e||b[3]!==h||b[4]!==g?(i=g!=null&&!h&&m.jsx(r,{attachment:e,message:g}),b[2]=e,b[3]=h,b[4]=g,b[5]=i):i=b[5];b[6]!==f||b[7]!==h?(e=f!=null&&!h&&m.jsx(q,{linkProps:{download:!0,target:"_blank",url:f+"&dl=1"},children:m.jsx(c("IGDSDownloadPanoOutline24Icon.react"),{alt:o,size:18})}),b[6]=f,b[7]=h,b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(g=m.jsx(c("IGDSXPanoFilledIcon.react"),{alt:u,size:18}),b[9]=g):g=b[9];b[10]!==a?(f=m.jsx(q,{onPress:a,children:g}),b[10]=a,b[11]=f):f=b[11];b[12]!==i||b[13]!==e||b[14]!==f?(h=m.jsxs(c("IGDSBox.react"),{columnGap:3,direction:"row",padding:2,position:"absolute",xstyle:n.controlsContainer,children:[i,e,f]}),b[12]=i,b[13]=e,b[14]=f,b[15]=h):h=b[15];return h}g["default"]=a}),226);
__d("IGDMediaViewerFilmstrip.react",["fbt","BaseImage.react","CometPressable.react","IGDSBox.react","Locale","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef,n=b.useState,o=36,p=6,q={filmstripCentered:{justifyContent:"xl56j7k",$$css:!0},filmstripContainer:{bottom:"x1ey2m1c",display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",maxWidth:"x193iq5w",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",position:"x10l6tqk",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",whiteSpace:"xuxw1ft",$$css:!0},nonSelectedThumbnail:{opacity:"xti2d7y",":hover_opacity":"x5z6fxw",$$css:!0},selectedThumbnail:{opacity:"x1hc1fzr",$$css:!0},thumbnailContainer:{marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,$$css:!0},thumbnailInner:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",objectFit:"xl1xv1r",$$css:!0}};function r(a){var b=d("react-compiler-runtime").c(15),e=a.index,f=a.isSelected,g=a.onThumbnailClick;a=a.url;var i;b[0]!==e?(i=h._(/*BTDS*/"\u30b5\u30e0\u30cd\u30a4\u30eb{index}",[h._param("index",e)]),b[0]=e,b[1]=i):i=b[1];var j;b[2]!==e||b[3]!==g?(j=function(){return g(e)},b[2]=e,b[3]=g,b[4]=j):j=b[4];f=f?q.selectedThumbnail:q.nonSelectedThumbnail;var l;b[5]!==f?(l=[q.thumbnailInner,f],b[5]=f,b[6]=l):l=b[6];b[7]!==l||b[8]!==a?(f=k.jsx(c("IGDSBox.react"),{display:"inlineBlock",flex:"none",height:o,width:o,xstyle:q.thumbnailContainer,children:k.jsx(c("BaseImage.react"),{height:"100%",src:a,width:"100%",xstyle:l})}),b[7]=l,b[8]=a,b[9]=f):f=b[9];b[10]!==e||b[11]!==i||b[12]!==j||b[13]!==f?(l=k.jsx(c("CometPressable.react"),{label:i,onPress:j,overlayDisabled:!0,children:f},e),b[10]=e,b[11]=i,b[12]=j,b[13]=f,b[14]=l):l=b[14];return l}function a(a){var b=d("react-compiler-runtime").c(23),e=a.onThumbnailClick,f=a.selectedIndex,g=a.thumbnailUrls,h=f===void 0?0:f,j=m(null),s=m(null);a=n(0);var t=a[0],u=a[1];f=n(!1);a=f[0];var v=f[1],w=o+p*2;b[0]!==h||b[1]!==g.length||b[2]!==t?(f=function(){if(j.current!=null){var a=j.current,b=a.offsetWidth;a=a.scrollWidth;var c=s.current;if(a===b){v(!0);u(0);return}v(!1);a=-t/w;var d=Math.floor((b+-t)/w),e=a+Math.floor((d-a)/2);if(c!=null){if(h>c&&(h<e||d===g.length)){s.current=h;return}if(h<c&&(h>e||a===0)){s.current=h;return}}d=t-(h-(c!=null?c:0))*w;d=Math.min(0,d);d=Math.max(Math.floor(b-g.length*w),d);s.current=h;u(d)}},b[0]=h,b[1]=g.length,b[2]=t,b[3]=f):f=b[3];var x;b[4]!==h||b[5]!==g||b[6]!==t?(x=[h,w,g,t],b[4]=h,b[5]=g,b[6]=t,b[7]=x):x=b[7];l(f,x);f=a&&q.filmstripCentered;b[8]!==f?(x=(i||(i=c("stylex")))([q.filmstripContainer,f]),b[8]=f,b[9]=x):x=b[9];a="translate3d("+(d("Locale").isRTL()?-t:t)+"px, 0, 0)";b[10]!==a?(f={transform:a},b[10]=a,b[11]=f):f=b[11];if(b[12]!==e||b[13]!==h||b[14]!==g){b[16]!==e||b[17]!==h?(a=function(a,b){return k.jsx(r,{index:b,isSelected:b===h,onThumbnailClick:e,url:a},b)},b[16]=e,b[17]=h,b[18]=a):a=b[18];a=g.map(a);b[12]=e;b[13]=h;b[14]=g;b[15]=a}else a=b[15];var y;b[19]!==x||b[20]!==f||b[21]!==a?(y=k.jsx("div",{className:x,ref:j,style:f,children:a}),b[19]=x,b[20]=f,b[21]=a,b[22]=y):y=b[22];return y}g["default"]=a}),226);
__d("IGDMediaViewerImage.react",["BaseImage.react","qex","react","react-compiler-runtime","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={fullImage:{borderStartStartRadius:"x1bphaa0",borderStartEndRadius:"x18nydb4",borderEndEndRadius:"xcm95gh",borderEndStartRadius:"x1vsb9q8",maxHeight:"xhaqhkv",$$css:!0},newFullWidth:{maxWidth:"xc1ejnd",$$css:!0},oldFullWidth:{maxWidth:"x1pt367s",$$css:!0}},k=c("qex")._("4846")===!0;function a(a){var b=d("react-compiler-runtime").c(3);a=a.attachment;var e=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(a);a=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(a,!0);e=e!=null?e:a;if(e==null)return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=[j.fullImage,k?j.newFullWidth:j.oldFullWidth],b[0]=a):a=b[0];b[1]!==e?(a=i.jsx(c("BaseImage.react"),{src:e,xstyle:a}),b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("IGDMediaViewerNavigationButton.react",["IGDSChevronIcon.react","IGDSIconButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={navigationButton:{backgroundColor:"x14hiurz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",userSelect:"x87ps6o",width:"x1td3qas",zIndex:"x1vjfegm",":hover_opacity":"x1c3glr3",$$css:!0},navigationButtonLeft:{insetInlineStart:"xi5uv41",left:null,right:null,$$css:!0},navigationButtonRight:{insetInlineEnd:"xo2ifbc",left:null,right:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.direction,f=a.label;a=a.onClick;e=e==="previous";var g=e?j.navigationButtonLeft:j.navigationButtonRight,h;b[0]!==g?(h=[j.navigationButton,g],b[0]=g,b[1]=h):h=b[1];g=e?"back":"next";b[2]!==f||b[3]!==g?(e=i.jsx(c("IGDSChevronIcon.react"),{alt:f,color:"web-always-black",direction:g,size:16}),b[2]=f,b[3]=g,b[4]=e):e=b[4];b[5]!==a||b[6]!==h||b[7]!==e?(f=i.jsx(c("IGDSIconButton.react"),{onClick:a,padding:0,xstyle:h,children:e}),b[5]=a,b[6]=h,b[7]=e,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("IGDMediaViewerVideo.react",["fbt","I64","IGDSBox.react","IGDVideoPlayer.react","qex","react","react-compiler-runtime","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l={newVideoWidth:{maxWidth:"xc1ejnd",$$css:!0},oldVideoWidth:{maxWidth:"x1pt367s",$$css:!0},videoContainer:{maxHeight:"xhaqhkv",$$css:!0}},m=c("qex")._("4846")===!0;function a(a){var b=d("react-compiler-runtime").c(15),e=a.attachment;a=a.mediaRenderQpl;var f=e.previewWidth,g;b[0]!==f?(g=f!=null?(j||(j=d("I64"))).to_float(f):void 0,b[0]=f,b[1]=g):g=b[1];f=g;g=e.previewHeight;var i;b[2]!==g?(i=g!=null?(j||(j=d("I64"))).to_float(g):void 0,b[2]=g,b[3]=i):i=b[3];g=i;i=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(e);var n=e.accessibilitySummaryText,o=e.titleText;if(b[4]!==n||b[5]!==o){var p,q=h._(/*BTDS*/"Animated image");p=(p=n!=null?n:o)!=null?p:q.toString();b[4]=n;b[5]=o;b[6]=p}else p=b[6];q=p;if(i!=null){b[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=[l.videoContainer,m?l.newVideoWidth:l.oldVideoWidth],b[7]=n):n=b[7];o=g!=null?g:300;p=f!=null?f:500;b[8]!==q||b[9]!==e.attachmentFbid||b[10]!==a||b[11]!==o||b[12]!==p||b[13]!==i?(g=k.jsx(c("IGDSBox.react"),{xstyle:n,children:k.jsx(c("IGDVideoPlayer.react"),{altText:q,fbid:e.attachmentFbid,mediaRenderQpl:a,originalHeight:o,originalWidth:p,sdSrc:i})}),b[8]=q,b[9]=e.attachmentFbid,b[10]=a,b[11]=o,b[12]=p,b[13]=i,b[14]=g):g=b[14];return g}return null}g["default"]=a}),226);
__d("MWV2MediaViewerNullState.react",["fbt","CometColumn.react","CometColumnItem.react","FDSNullState.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("CometColumn.react"),{expanding:!0,verticalAlign:"center",children:j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("FDSNullState.react"),{headline:h._(/*BTDS*/"\u3053\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u306f\u73fe\u5728\u5229\u7528\u3067\u304d\u307e\u305b\u3093")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMediaViewer.react",["fbt","BaseTheme.react","CometHideLayerOnEscape.react","CometKeys","FocusRegion.react","IGDAttachmentUtil","IGDMediaViewerControls.react","IGDMediaViewerFilmstrip.react","IGDMediaViewerImage.react","IGDMediaViewerNavigationButton.react","IGDMediaViewerVideo.react","IGDSBox.react","IGDSDialogLegacy.react","MWV2MediaViewerNullState.react","MessengerWebUXLogger","qex","react","react-compiler-runtime","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;var k=b.useRef,l=b.useState,m=h._(/*BTDS*/"\u6b21\u3078"),n=h._(/*BTDS*/"\u524d\u3078"),o={anchorXStyle:{alignItems:"x6s0dn4",minHeight:"xg6iff7",$$css:!0},blurredBackground:{backdropFilter:"xvn2z4z",zIndex:"x1ja2u2z",":focus-visible_outline":"xk2swo9",$$css:!0},newMediaViewerContainer:{userSelect:"x87ps6o",$$css:!0}};e={"ig-elevated-background":"transparent"};f={"ig-elevated-background":"transparent"};var p={dark:f,light:e,type:"VARIABLES"};function a(a){var b=d("react-compiler-runtime").c(59),e=a.attachment,f=a.groupedAttachments,g=a.mediaRenderQpl,h=a.onClose;b[0]!==h?(a=function(){return h==null?void 0:h()},b[0]=h,b[1]=a):a=b[1];a=a;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){var i;i=(i=c("qex")._("4846"))!=null?i:!1;b[2]=i}else i=b[2];var r=i;b[3]!==e||b[4]!==f?(i=function(){if(f.length>0){var a=f.findIndex(function(a){return a.attachmentFbid===e.attachmentFbid});return a>=0?a:0}return 0},b[3]=e,b[4]=f,b[5]=i):i=b[5];i=l(i);var s=i[0],t=i[1];i=f.length>0?f[s]:e;var u=c("MessengerWebUXLogger").useInteractionLogger(),v;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(v={eventName:"igd_media_gallery_open"},b[6]=v):v=b[6];v=c("MessengerWebUXLogger").useImpressionLoggerRef(v);var w;b[7]!==u||b[8]!==s?(w=function(a){a=a===void 0?"mouse":a;r&&s>0&&(u==null||u({eventName:"igd_media_gallery_navigation",extraData:{navigationSource:a}}),t(s-1))},b[7]=u,b[8]=s,b[9]=w):w=b[9];var x=w;b[10]!==f.length||b[11]!==u||b[12]!==s?(w=function(a){a=a===void 0?"mouse":a;r&&s<f.length-1&&(u==null||u({eventName:"igd_media_gallery_navigation",extraData:{navigationSource:a}}),t(s+1))},b[10]=f.length,b[11]=u,b[12]=s,b[13]=w):w=b[13];var y=w;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(w={key:c("CometKeys").LEFT},b[14]=w):w=b[14];b[15]!==x?(w={command:w,description:n,handler:function(){return x("keyboard")}},b[15]=x,b[16]=w):w=b[16];var z;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(z={key:c("CometKeys").RIGHT},b[17]=z):z=b[17];b[18]!==y?(z={command:z,description:m,handler:function(){return y("keyboard")}},b[18]=y,b[19]=z):z=b[19];var A;b[20]!==z||b[21]!==w?(A=[w,z],b[20]=z,b[21]=w,b[22]=A):A=b[22];z=A;w=z;c("useLayerKeyCommands")(w);var B=k(null);b[23]!==x?(A=j.jsx(c("IGDMediaViewerNavigationButton.react"),{direction:"previous",label:n,onClick:function(){return x("mouse")}}),b[23]=x,b[24]=A):A=b[24];z=A;b[25]!==y?(w=j.jsx(c("IGDMediaViewerNavigationButton.react"),{direction:"next",label:m,onClick:function(){return y("mouse")}}),b[25]=y,b[26]=w):w=b[26];A=w;if(r){b[27]===Symbol["for"]("react.memo_cache_sentinel")?(w=function(a,b,c){return c===B.current},b[27]=w):w=b[27];var C;b[28]===Symbol["for"]("react.memo_cache_sentinel")?(C=j.jsx(c("IGDSBox.react"),{containerRef:B,height:"100vh",left:!0,position:"fixed",top:!0,width:"100vw",xstyle:o.blurredBackground}),b[28]=C):C=b[28];var D;b[29]!==i||b[30]!==g?(D=d("IGDAttachmentUtil").isImageAttachment(i)||d("IGDAttachmentUtil").isAnimatedImageAttachment(i)||d("IGDAttachmentUtil").isEphemeralImageAttachment(i)?j.jsx(c("IGDMediaViewerImage.react"),{attachment:i}):d("IGDAttachmentUtil").isVideoAttachment(i)||d("IGDAttachmentUtil").isEphemeralVideoAttachment(i)?j.jsx(c("IGDMediaViewerVideo.react"),{attachment:i,mediaRenderQpl:g}):j.jsx(c("MWV2MediaViewerNullState.react"),{}),b[29]=i,b[30]=g,b[31]=D):D=b[31];var E;b[32]!==i||b[33]!==a?(E=j.jsx(c("IGDMediaViewerControls.react"),{attachment:i,onClose:a}),b[32]=i,b[33]=a,b[34]=E):E=b[34];var F;b[35]!==f||b[36]!==z||b[37]!==u||b[38]!==A||b[39]!==s?(F=f.length>1&&j.jsxs(j.Fragment,{children:[s>0&&z,s<f.length-1&&A,j.jsx(c("IGDMediaViewerFilmstrip.react"),{onThumbnailClick:function(a){u==null||u({eventName:"igd_media_gallery_navigation",extraData:{navigationSource:"mouse"}}),t(a)},selectedIndex:s,thumbnailUrls:f.map(q)})]}),b[35]=f,b[36]=z,b[37]=u,b[38]=A,b[39]=s,b[40]=F):F=b[40];b[41]!==v||b[42]!==D||b[43]!==E||b[44]!==F?(z=j.jsxs(c("BaseTheme.react"),{config:p,children:[C,j.jsxs(c("IGDSBox.react"),{alignItems:"center",containerRef:v,display:"flex",height:"100dvh",justifyContent:"center",left:!0,position:"fixed",top:!0,width:"100%",xstyle:o.newMediaViewerContainer,children:[D,E,F]})]}),b[41]=v,b[42]=D,b[43]=E,b[44]=F,b[45]=z):z=b[45];b[46]!==a||b[47]!==z?(A=j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:w,children:j.jsx(c("CometHideLayerOnEscape.react"),{onHide:a,children:z})}),b[46]=a,b[47]=z,b[48]=A):A=b[48];return A}else{b[49]===Symbol["for"]("react.memo_cache_sentinel")?(C={className:"x78zum5 xhaqhkv x1pt367s"},b[49]=C):C=b[49];b[50]!==i||b[51]!==g?(v=j.jsx("div",babelHelpers["extends"]({},C,{children:d("IGDAttachmentUtil").isImageAttachment(i)||d("IGDAttachmentUtil").isAnimatedImageAttachment(i)||d("IGDAttachmentUtil").isEphemeralImageAttachment(i)?j.jsx(c("IGDMediaViewerImage.react"),{attachment:i}):d("IGDAttachmentUtil").isVideoAttachment(i)||d("IGDAttachmentUtil").isEphemeralVideoAttachment(i)?j.jsx(c("IGDMediaViewerVideo.react"),{attachment:i,mediaRenderQpl:g}):j.jsx(c("MWV2MediaViewerNullState.react"),{})})),b[50]=i,b[51]=g,b[52]=v):v=b[52];b[53]!==a||b[54]!==v?(D=j.jsx(c("CometHideLayerOnEscape.react"),{onHide:a,children:v}),b[53]=a,b[54]=v,b[55]=D):D=b[55];b[56]!==a||b[57]!==D?(E=j.jsx(c("BaseTheme.react"),{config:p,children:j.jsx(c("IGDSDialogLegacy.react"),{anchorXStyle:o.anchorXStyle,closeButtonPosition:"background",fixedWidth:!1,onClose:a,size:"large",children:D})}),b[56]=a,b[57]=D,b[58]=E):E=b[58];return E}}function q(a){return(a=a.previewUrl)!=null?a:""}g["default"]=a}),226);
__d("useIGDGetThreadMediaAttachments",["I64","IGDAttachmentUtil","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(6),e=(h||(h=c("useReStore")))(),g,i;b[0]!==e||b[1]!==a.threadKey?(g=function(){return a.threadKey!=null?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey):d("ReQL").empty()},i=[e,a.threadKey],b[0]=e,b[1]=a.threadKey,b[2]=g,b[3]=i):(g=b[2],i=b[3]);g=d("ReQLSuspense").useArray(g,i,f.id+":26");b[4]!==g?(i=g.filter(l).toSorted(k),b[4]=g,b[5]=i):i=b[5];g=i;return g}function k(a,b){var c=(i||(i=d("I64"))).compare(a.timestampMs,b.timestampMs);return c!==0?c:i.compare(a.attachmentIndex,b.attachmentIndex)}function l(a){return d("IGDAttachmentUtil").isImageAttachment(a)||d("IGDAttachmentUtil").isVideoAttachment(a)}g["default"]=a}),98);
__d("IGDMediaViewerRoot.react",["IGDAttachmentUtil","IGDMediaViewer.react","react","react-compiler-runtime","useIGDGetThreadMediaAttachments"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.attachment,f=a.mediaRenderQpl,g=a.message;a=a.onClose;g=c("useIGDGetThreadMediaAttachments")(g);var h;b[0]!==e?(h=d("IGDAttachmentUtil").isEphemeralVideoAttachment(e)||d("IGDAttachmentUtil").isEphemeralImageAttachment(e),b[0]=e,b[1]=h):h=b[1];h=h;var j;b[2]!==g||b[3]!==h?(j=h?[]:g,b[2]=g,b[3]=h,b[4]=j):j=b[4];b[5]!==e||b[6]!==f||b[7]!==a||b[8]!==j?(g=i.jsx(c("IGDMediaViewer.react"),{attachment:e,groupedAttachments:j,mediaRenderQpl:f,onClose:a}),b[5]=e,b[6]=f,b[7]=a,b[8]=j,b[9]=g):g=b[9];return g}g["default"]=a}),98);