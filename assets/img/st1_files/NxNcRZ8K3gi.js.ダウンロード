;/*FB_PKG_DELIM*/

__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("73");b=d("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("39");b=d("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("74");b=d("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("75");b=d("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("76");b=d("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("44");b=d("FalcoLoggerInternal").create("audio_clips_playback_pause",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("45");b=d("FalcoLoggerInternal").create("audio_clips_playback_resume",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("47");b=d("FalcoLoggerInternal").create("audio_clips_playback_start",a);e=b;g["default"]=e}),98);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("51");b=d("FalcoLoggerInternal").create("audio_clips_start_recording_click",a);e=b;g["default"]=e}),98);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("52");b=d("FalcoLoggerInternal").create("audio_clips_stop_recording_click",a);e=b;g["default"]=e}),98);
__d("C4gEngagementFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1922200");b=d("FalcoLoggerInternal").create("c4g_engagement",a);e=b;g["default"]=e}),98);
__d("CometContextualLayer.react",["BaseContextualLayer.react","react","useCometVisualChangeTracker","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||d("react");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=c("useCometVisualChangeTracker")();b=c("useMergeRefs")(b,d);return j.jsx(c("BaseContextualLayer.react"),babelHelpers["extends"]({},a,{ref:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null,secondaryActionHighlighted:null});g["default"]=b}),98);
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._(/*BTDS*/"\u30e6\u30fc\u30b6\u30fc\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f")}g["default"]=a}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k"},{children:i.jsx(c("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:c("getPeopleTypeaheadNullStateText")()})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){var e;if(a.length===0){c(null,null);return}var f=b!=null?a.findIndex(function(a){return a.key===b})+1:0;f===a.length&&(f=0);e=(e=(e=a[f])==null?void 0:e.hasSecondaryAction)!=null?e:!1;c(a[f],e?d:null)}function h(a,b,c,d){var e;if(a.length===0){c(null,null);return}var f=b!=null?a.findIndex(function(a){return a.key===b})-1:a.length-1;f===-1&&(f=a.length-1);e=(e=(e=a[f])==null?void 0:e.hasSecondaryAction)!=null?e:!1;c(a[f],e?d:null)}function a(a,b,c,d){if(a.length===0){c(null,!1);return}if(d===!0){d=a.findIndex(function(a){return a.key===b});c(a[d],!1)}else h(a,b,c,!0)}function b(a,b,c,d){if(a.length===0){c(null,!1);return}if(d===!0)g(a,b,c,!1);else{d=a.findIndex(function(a){return a.key===b});c(a[d],!0)}}f.moveDown=g;f.moveUp=h;f.moveLeft=a;f.moveRight=b}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-cache",c)})}g["default"]=a}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-network",c)})}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.dataSource;return i(function(a){var c=a.onResolvePayload;a=a.requestParams;var d=a.perfTraceAPI;a=b.fetchCache(a);d&&d.addMarkerPoint("cachedResponse","AppTiming");c(a);return a},[b])}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.dataSource;a=l(!1);var d=a[0],e=a[1],f=k(0),g=k(!1);j(function(){g.current=!1;return function(){g.current=!0}},[]);a=i(function(a){var d=a.onResolvePayload;a=a.requestParams;f.current++;var h=f.current,i=a.perfTraceAPI;e(!0);c("promiseDone")(b.fetchNetwork(a).then(function(a){!g.current&&h===f.current&&(d(a),i&&i.addMarkerPoint("networkResponse","AppTiming"))})["finally"](function(){!g.current&&h===f.current&&(f.current=0,e(!1))}))},[b]);return[{isLoading:d},a]}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","react","recoverableViolation","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=8;function a(a,b){var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.onResolvePayload;a=e!=null?e:c("emptyObject");e=a.renderLimit;var g=e===void 0?k:e;e=a.bypassCacheRenderLimitCheck;var h=e===void 0?!1:e;e=a.shouldDebounceNetwork;var l=e===void 0?!0:e;e=a.networkDebounceWaitDuration;a=a.requestFlow;var m=j(a),n=c("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:d});a=c("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:d});var o=a[0].isLoading,p=a[1],q=c("useDebouncedComet")(p,{wait:e});function r(){var a=!1;function e(b,d){var e=d.isTraceComplete;d=d.source;try{a||f(b,{isTraceComplete:e,source:d})}catch(b){a||c("recoverableViolation")("Failed to resolve fetched payload","search")}}function i(a){var b=a.requestParams;a=a.source;var f=b.requestFlow;f!=null&&(m.current=f);if(typeof d.fetchCache==="function"&&["all","cache"].includes(a)){f=n({onResolvePayload:function(a){var b=a.entries;b=c("baseTypeaheadFlattenEntries")(b).length;e(a,{isTraceComplete:!h&&b>=g,source:"cache"});c("cometTypeaheadODSLogFetchCacheEvent")&&c("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:b});f=f;f=f.entries;f=c("baseTypeaheadFlattenEntries")(f).length;if(!h&&f>=g)return}if(typeof d.fetchNetwork==="function"&&["all","network"].includes(a)){f={onResolvePayload:function(a){e(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers["extends"]({},b,{requestFlow:m.current})};Boolean(l)?q(f):p(f)}}b!=null&&i(b);return function(){a=!0}}i(r,[b]);return[{isLoading:o}]}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetch",["react","recoverableViolation","useBaseTypeaheadDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h=["loggingEventTrace"],i;b=i||d("react");var j=b.useCallback,k=b.useState;function a(a){var b=k(null),d=b[0],e=b[1];b=c("useBaseTypeaheadDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=j(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=j(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,h);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"],i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=b.useState;function a(a){var b=a.ref,e=a.context,f=a.dataSource,g=a.inputElement,i=a.layoutStrategyRenderer,q=a.loggingProvider,r=a.onAriaChange,s=a.onEntriesUpdated,t=a.onHighlightEntry,u=a.onSelectedEntry,v=a.onVisibilityChange,w=a.position;w=w===void 0?"above":w;var x=a.queryString,y=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var z=n(null),A=o(null),B=A[0],C=A[1],D=n([]);A=o(D.current);var E=A[0],F=A[1];A=o(!0);var G=A[0],H=A[1],I=n(null),J=n(x);l(function(){J.current=x},[x]);var K=k(function(a){t&&t(a),C(a),z.current=a},[t]);A=c("useBaseTypeaheadDataSourceFetch")({dataSource:f,onResolvePayload:k(function(a){var b;a=a.entries;D.current=a;F(a);var d=c("baseTypeaheadFlattenEntries")(a),e=d[0],f=z==null||(b=z.current)==null?void 0:b.key;e!=null&&!d.map(function(a){return a.key}).includes(f)&&K(e);s&&s(a.length>0)},[K,s])});var L=A[0].isLoading,M=A[1],N=G&&(E.length>0||L);l(function(){N?q.startSession(J.current):q.isSessionActive()&&q.maybeEndSession(J.current,c("baseTypeaheadFlattenEntries")(D.current));v(N);return function(){q.isSessionActive()&&q.maybeEndSession(J.current,c("baseTypeaheadFlattenEntries")(D.current))}},[v,q,N]);l(function(){H(!0),M({query:x})},[M,x,f]);m(b,function(){return{getViewRef:function(){return I},hasSelection:function(){return p(c("baseTypeaheadFlattenEntries")(D.current),B)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(c("baseTypeaheadFlattenEntries")(D.current),B!=null?B.key:null,K,!1)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(c("baseTypeaheadFlattenEntries")(D.current),B!=null?B.key:null,K,!1)},select:function(){var a=c("baseTypeaheadFlattenEntries")(D.current);u&&B!=null&&p(a,B)&&(q.isSessionActive()&&q.maybeEndSession(x,a,B),u(B))}}},[B,K,u,q,x]);A=k(function(a){var b=c("baseTypeaheadFlattenEntries")(D.current);u&&p(b,a)&&(q.isSessionActive()&&q.maybeEndSession(x,b,a),u(a))},[u,q,x]);l(function(){if(N===!1)return;function a(a,b){a=a.parentElement;while(a!=null&&a!==b)a=a.parentElement;return a===b}var b=function(b){b=b.target;if(!(b instanceof HTMLElement))return;var c=I.current;c=c!==null&&(b===c||a(b,c));b=g!==null&&(b===g||a(b,g));H(c||b)};document.addEventListener("click",b);return function(){return document.removeEventListener("click",b)}},[g,N]);return!N?null:j.jsx(i,{ariaProps:{role:"listbox"},context:e,entries:E,highlightedEntry:B,isLoading:L,onAriaChange:r,onBlur:a.onBlur,onHighlightEntry:K,onPressEntry:A,onPressEntryIn:A,position:w,queryString:x,viewRef:I,viewStrategyRenderer:y})}a.displayName=a.name+" [from "+f.id+"]";function p(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){return a.key===c})!=null}g["default"]=a}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=a.anchor;if(a.type!=="text")return null;var c=a.getNode();if(b!=null&&!b()||b==null&&!c.isSimpleText())return null;b=a.offset;return c.getTextContent().slice(0,b)}function a(a,b){return a.getEditorState().read(function(){var a=d("Lexical").$getSelection();return!d("Lexical").$isRangeSelection(a)?null:h(a,b)})}g["default"]=a}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=j(!1);i(function(){if(c.current)return;var e=a.getRootElement()===document.activeElement;if(e){b();c.current=!0;return}var f=a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b();c.current=!0;f();return!1},d("Lexical").COMMAND_PRIORITY_LOW);return f},[b,a,c])}g["default"]=a}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("445");b=d("FalcoLoggerInternal").create("mentions_session_end_without_click",a);e=b;g["default"]=e}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("446");b=d("FalcoLoggerInternal").create("mentions_session_start",a);e=b;g["default"]=e}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("447");b=d("FalcoLoggerInternal").create("mentions_suggestion_clicked",a);e=b;g["default"]=e}),98);
__d("WithTagSuggestionContinueClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3701");b=d("FalcoLoggerInternal").create("with_tag_suggestion_continue_clicked",a);e=b;g["default"]=e}),98);
__d("CometMentionsLoggingProvider",["FBLogger","MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","WithTagSuggestionContinueClickedFalcoEvent","guid"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=null,this.$1=a}var b=a.prototype;b.getSessionID=function(){this.$3==null&&c("FBLogger")("search").mustfix("Mentions logging sessionID does not exist.");return this.$3};b.isSessionActive=function(){return this.$2};b.startSession=function(a){var b=this;if(a==null)return;var d=c("guid")();this.$3=d;this.$2=!0;c("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$1,{session_id:d,typed_query:a})})};b.maybeEndSession=function(a,b,d,e){if(a==null)return;var f=b!=null?JSON.stringify(b.map(function(a){return{id:a.key}})):null,g=babelHelpers["extends"]({},this.$1,{serialized_candidate_suggestions:f,session_id:this.getSessionID(),typed_query:a});if(d!=null){var h=d.key,i=(f=b==null?void 0:b.findIndex(function(a){return a.key===h}))!=null?f:null,j=isNaN(parseInt(d.key,10))?"0":d.key;if(e===!0){c("WithTagSuggestionContinueClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},g,{selected_position:String(i),selected_result_display_text:d.label,selected_result_id:j,selected_result_id_string:d.key})});return}else c("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},g,{selected_position:String(i),selected_result_display_text:d.label,selected_result_id:j,selected_result_id_string:d.key})})}else c("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return g});this.$3=null;this.$2=!1};return a}();g["default"]=a}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){a===void 0&&(a=j);return i(function(){return new(c("CometMentionsLoggingProvider"))(a)},[a])}g["default"]=a}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.startTransition,j=b.useEffect,k=b.useState;function l(a,b){var c=window.getSelection();if(c===null||!c.isCollapsed||a===null)return!1;var d=c.anchorNode;a=a.leadOffset;c=c.anchorOffset;try{b.setStart(d,a),b.setEnd(d,c)}catch(a){return!1}return!0}function a(a,b,d){var e=k(null),f=e[0],g=e[1];j(function(){var e=document.createRange(),f=null,h=null,j=null,k=function(){var k=e,m=c("getCometComposerMentionsSearchForLexical")(a,d);if(m===f||k===null)return;f=m;m=b(m);var n=m.dataSource,o=m.searchResult;if(n===h&&o===j)return;m=l(o,k);h=n;j=o;!m||n===null||o===null?i(function(){return g(null)}):i(function(){g({dataSource:n,range:k,searchResult:o})})},m=a.registerUpdateListener(k);k();return function(){e=null,m()}},[d,b,a]);return f}g["default"]=a}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState;function a(a){var b=a.$isValidSelection,e=a.createNodeStrategy,f=a.dataSourceResolverConfig,g=f.bootstrap,h=f.resolver,l=a.editor;f=a.layoutStrategyRenderer;var n=a.mentionsHandlerForSelectedEntry,p=a.mentionsLoggerContext,s=a.onMentionsEntrySelected,t=a.position;t=t===void 0?"below":t;a=a.viewStrategyRenderer;var u=c("useCometMentionsResolutionForLexical")(l,h,b),v=m(!1),w=o(l),x=w[0],y=w[1],z=m(null),A=r(l);c("useCometMentionsBootstrapForLexical")(l,g);k(function(){return l.registerCommand(d("Lexical").BLUR_COMMAND,function(){A();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[l,A]);w=j(function(){A()},[A]);k(function(){var a;a=[{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:(a=d("Lexical")).KEY_ENTER_COMMAND},{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:a.KEY_TAB_COMMAND},{handler:function(a){a.moveUp();return!0},type:a.KEY_ARROW_UP_COMMAND},{handler:function(a){a.moveDown();return!0},type:a.KEY_ARROW_DOWN_COMMAND},{handler:function(){A();y();return!0},type:a.KEY_ESCAPE_COMMAND}];return d("LexicalUtils").mergeRegister.apply(void 0,a.map(function(a){var b=a.handler;a=a.type;return l.registerCommand(a,function(a){var c=z.current,d=v.current;if(c===null||!d||x)return!1;if(b(c)){d=a;d.preventDefault();d.stopPropagation();return!0}return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[y,l,A,x]);g=j(function(a){v.current=a},[]);var B=j(function(a){if(a)return;A()},[A]),C=j(function(a){var d=c("getCometComposerMentionsSearchForLexical")(l,b);if(d==null){c("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var f=h(d);f=f.searchResult;if(f==null){c("FBLogger")("CometComposer").mustfix("onPressEntry was called and no search result was found for the query %s",d);return}A();d=n==null?void 0:n(a);if(d!=null&&!d.shouldMentionSelectedEntry)return;q(l,e,a,f,b);s==null||s(a);y()},[l,b,h,A,n,e,s,y]);p=c("useCometMentionsLoggingProvider")(p);if(u===null||x){A();v.current=!1;return null}return i.jsx(c("CometMentions.react"),{context:u.range,dataSource:u.dataSource,inputElement:l.getRootElement(),layoutStrategyRenderer:f,loggingProvider:p,onAriaChange:A,onBlur:w,onEntriesUpdated:B,onFocus:c("emptyFunction"),onSelectedEntry:C,onVisibilityChange:g,position:t,queryString:u.searchResult.matchingString,ref:z,viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=n(!1),c=b[0],e=b[1];k(function(){if(c){var b=a.getEditorState().read(d("LexicalText").$rootTextContent);return a.registerTextContentListener(function(a){b!==null&&a!==b&&e(!1),b=a})}},[a,c]);return l(function(){return[c,function(){return e(!0)}]},[c])}function p(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}function q(a,b,c,e,f){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var g=a.getNode();if(f!=null&&!f()||f==null&&!g.isSimpleText())return;a=a.offset;var h=g.getTextContent().slice(0,a),i=c.label,j=e.replaceableString.length;h=p(h,i,j);i=a-h;if(i<0)return;b({anchorNode:g,endOffset:a,selectedEntry:c,startOffset:i})})}function r(a){var b=m(void 0),c=m(void 0);return j(function(e,f){var g=b.current,h=c.current;(g!==e||h!==f)&&(b.current=e,c.current=f,a.dispatchCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:e,controlsID:f}))},[a])}g["default"]=a}),98);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","FDSText.react","getItemRoleFromCompositeRole","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"],i,j=i||(i=d("react")),k=i.useMemo;function a(a){var b=a.ariaProps,d=a.entries;a.extraViewProps;var e=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var f=a.viewItemStrategyRenderer,g=babelHelpers.objectWithoutPropertiesLoose(a,h),i=b.role;a=k(function(){if(i!=null)return{role:i};else return{}},[i]);var l=c("getItemRoleFromCompositeRole")(i);return j.jsx("ul",babelHelpers["extends"]({},b,{className:"x78zum5 xdt5ytf x1iyjqo2","data-testid":void 0,children:j.jsx(c("CometCompositeStructureContext").Provider,{value:a,children:d.map(function(a,b){if(a.type==="section"){var h=a.entries,i=a.key,k=a.label;return h.length===0?null:j.jsxs("li",{"aria-selected":"false",role:"option",children:[j.jsx("div",babelHelpers["extends"]({className:"x889kno x2vl965 x1a8lsjc xe2zdcy"},{children:j.jsx("label",{htmlFor:i,children:j.jsx(c("FDSText.react"),{color:"primary",type:"entityHeaderMeta2",children:k})})})),j.jsx("ul",{id:i,role:"listbox",children:h.map(function(a){return j.createElement(f,babelHelpers["extends"]({},g,{entry:a,isActive:a.key===(e==null?void 0:e.key),key:a.key,role:l}))})})]},"section-"+i)}else return j.createElement(f,babelHelpers["extends"]({},g,{entry:a,isActive:a.key===(e==null?void 0:e.key),isFirstItem:b===0,isLastItem:b===d.length-1,key:a.key,role:l}))})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometMessengerFileUploadComposerPluginSupportedTypes",[],(function(a,b,c,d,e,f){"use strict";a=["photo","video","file"];b=a;f["default"]=b}),66);
__d("useCometLexicalDragAndDrop",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var c=b.onDragEnter,d=b.onDragLeave,e=b.onDragOver,f=b.onDrop,g=b.onPaste;i(function(){if(a!=null)return a.registerRootListener(function(a,b){b!=null&&(c&&b.removeEventListener("dragenter",c),d&&b.removeEventListener("dragleave",d),e&&b.removeEventListener("dragover",e),f&&b.removeEventListener("drop",f,!0),g&&b.removeEventListener("paste",g,!0)),a!==null&&(c&&a.addEventListener("dragenter",c),d&&a.addEventListener("dragleave",d),e&&a.addEventListener("dragover",e),f&&a.addEventListener("drop",f,!0),g&&a.addEventListener("paste",g,!0))})},[a,c,d,e,f,g])}g["default"]=a}),98);
__d("useCometLexicalFileDragAndDrop",["react","useCometLexicalDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a){var b=a.editor,d=a.isMimeTypeAcceptable,e=a.onHover,f=e===void 0?function(){}:e;e=a.onSubmit;var g=e===void 0?function(){}:e,h=j(0),k=i(function(a){return Array.from(a).filter(d)},[d]);a=i(function(a){h.current++;var b=a.dataTransfer;if(b==null)return f([],!0);b=k(b.items);b.length>0&&a.preventDefault();return f(b,!0)},[k,f]);e=i(function(a){h.current--;if(h.current===0)return f([],!1)},[f]);var l=i(function(a){var b=a.dataTransfer;if(b==null)return f([],!0);b=k(b.items);b.length>0&&a.preventDefault();return f(b,!0)},[k,f]),m=i(function(a,b){b=k(b.items);b=b.map(function(a){return a.getAsFile()}).filter(Boolean);if(b.length>0){a.stopPropagation();a.preventDefault();return g(b)}else return g([])},[k,g]),n=i(function(a){var b=a.dataTransfer;h.current=0;f([],!1);if(b!=null)return m(a,b);else return g([])},[m,f,g]),o=i(function(a){var b=a.clipboardData;if(b==null)return g([]);var c=b.types;c=c.includes("text/plain")&&c.includes("text/html")||c.includes("text/rtf");return c?g([]):m(a,b)},[m,g]);c("useCometLexicalDragAndDrop")(b,{onDragEnter:a,onDragLeave:e,onDragOver:l,onDrop:n,onPaste:o})}g["default"]=a}),98);
__d("useCometMessengerFileUploadPaste",["react","useCometLexicalFileDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.editor,d=a.handlePastedFiles;a=a.isMimeTypeAcceptable;var e=i(function(a){a.length>0&&d(a)},[d]);c("useCometLexicalFileDragAndDrop")({editor:b,isMimeTypeAcceptable:a,onSubmit:e})}g["default"]=a}),98);
__d("CometMessengerHandlePastedFileComposerPlugin",["cometIsMimeTypeForMedia","cometMessengerFileUploadComposerPluginSupportedTypes","useCometMessengerFileUploadPaste"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a.kind!=="file")return!1;for(var b of c("cometMessengerFileUploadComposerPluginSupportedTypes"))switch(b){case"photo":if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return!0;break;case"video":if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;break;case"file":if(d("cometIsMimeTypeForMedia").isMimeTypeForFile(a.type))return!0;break;default:b}return!1}function a(a){var b=a.editor;a=a.handlePastedFiles;c("useCometMessengerFileUploadPaste")({editor:b,handlePastedFiles:a,isMimeTypeAcceptable:h});return null}g["default"]=a}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","react-strict-dom","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback,k={root:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginBottom:"xat24cr",marginTop:"xdj266r",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},l={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",insetInlineStart:null,insetInlineEnd:null,top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootFocused:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0},contentRootHighlighted:{backgroundColor:"x1wpzbip xugaqoy",$$css:!0},itemIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",$$css:!0},pressable:{flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function a(a){var b=a.additionalEndContentOutsideOfPressable,e=a.children,f=a.cursorDisabled_SEARCH_ONLY;f=f===void 0?!1:f;var g=a.entry,h=a.isActive,m=a.isEmphasized;m=m===void 0?!1:m;var n=a.isDisabled;n=n===void 0?!1:n;var o=a.itemEndContent,p=a.itemStartContent,q=a.linkProps;a.onHighlightEntry;var r=a.onPressEntry,s=a.onPressEntryIn,t=a.overlayDisabled_SEARCH_ONLY;t=t===void 0?!1:t;var u=a.role,v=a.testid;v=a.xstyle;v=v===void 0?k.root:v;var w=a.debugElement,x=a.focusable;x=x===void 0?!1:x;a=a.itemEndContentKeyboardFocusable;a=a===void 0?!1:a;var y=c("useCometInternalTypeaheadState")();y=y.secondaryActionHighlighted;var z=j(function(a){r&&r(g,a)},[g,r]),A=j(function(a){s&&s(g,a)},[g,s]),B=u==="row"?"gridcell":"none";return i.jsxs(d("react-strict-dom").html.li,{"aria-selected":h,"data-testid":void 0,id:a===!0&&B==="gridcell"?void 0:g.key,role:u,style:l.root,children:[w,i.jsxs(c("CometPressable.react"),{"aria-describedby":g.key,cursorDisabled:f,disabled:n,display:"block",expanding:!0,focusable:x,label:g.label,linkProps:q,onPress:n?c("emptyFunction"):z,onPressIn:n?c("emptyFunction"):A,overlayDisabled:t,overlayFocusRingPosition:"inset",role:a!==!0?B:"none",xstyle:[l.contentRoot,h&&l.contentRootHighlighted,h&&y!==!0&&l.contentRootFocused,m&&l.contentRootEmphasized,v,b==null?l.pressable:l.pressableWithAdditionalEndContent],children:[i.jsxs(c("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[p!=null?i.jsx(c("CometRowItem.react"),{children:i.jsx(d("react-strict-dom").html.div,{style:l.itemIcon,children:p})}):null,i.jsx(c("CometRowItem.react"),{expanding:!0,children:a===!0&&B==="gridcell"?i.jsx(d("react-strict-dom").html.div,{id:g.key,role:B,children:e}):e}),o!=null?i.jsx(c("CometRowItem.react"),{children:a===!0&&B==="gridcell"?i.jsx(d("react-strict-dom").html.div,{id:g.key+"-secondary-action",role:B,children:o}):o}):null]}),b,i.jsx(d("react-strict-dom").html.div,{style:n&&l.contentRootDisabled})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["onPressEntryIn","queryString"],i,j=i||d("react");function a(a){var b=a.onPressEntryIn;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=function(a,c){c.preventDefault(),b&&b(a,c)};return j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{onPressEntryIn:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadFetchContext"))}g["default"]=a}),98);
__d("useCometTypeaheadViewLabel",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useMemo;function a(a){var b=a.activeEntries;return j(function(){var a=b.length;return a===0?h._(/*BTDS*/"\u304a\u3059\u3059\u3081\u306e\u691c\u7d22\u306f\u3042\u308a\u307e\u305b\u3093\u3002"):h._(/*BTDS*/"_j{\"*\":\"\\u304a\\u3059\\u3059\\u3081\\u306e\\u691c\\u7d22{number}\\u4ef6\",\"_1\":\"\\u304a\\u3059\\u3059\\u3081\\u306e\\u691c\\u7d221\\u4ef6\"}",[h._plural(a,"number")])},[b])}g["default"]=a}),226);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useId,j=b.useMemo;function a(a){var b=a.activeEntries,d=a.helperText,e=a.highlightedEntry,f=a.inputLabel,g=f===void 0?"":f,h=a.isOpened,k=a.secondaryActionHighlighted,l=a.viewRole,m=i();f=c("useCometInternalTypeaheadFetch")();var n=f.isLoading,o=i(),p=c("useCometTypeaheadViewLabel")({activeEntries:b});return j(function(){var a=e!=null?{"aria-activedescendant":k===!0?e.key+"-secondary-action":e.key}:{},c=h&&b.length>0?{"aria-controls":m}:null,f=d!=null&&String(d).length>0?{"aria-describedby":o}:null,i={"aria-busy":n,"aria-label":p,id:m,role:l};return{ariaDescribedByProps:{id:o},ariaInputProps:babelHelpers["extends"]({},a,c,f,{"aria-autocomplete":"list","aria-expanded":b.length>0&&h,"aria-label":g,role:"combobox"}),ariaViewProps:i}},[b.length,o,d,e,g,n,h,m,k,p,l])}g["default"]=a}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.entries,d=a.highlightedEntry,e=a.onAriaChange;a=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:c("baseTypeaheadFlattenEntries")(b),helperText:"",highlightedEntry:d,inputLabel:"",isOpened:!0,viewRole:"listbox"});var f=a.ariaInputProps;b=a.ariaViewProps;i(function(){return e(f["aria-activedescendant"],f["aria-controls"])},[f,e]);return b}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","useBaseMentionsLayoutStrategyARIAProps.react"],(function(a,b,c,d,e,f,g){"use strict";var h=["isLoading","isLoadingIndicatorEnabled","onAriaChange","viewStrategyRenderer"],i,j=i||d("react");function a(a){var b=a.isLoading,d=a.isLoadingIndicatorEnabled;d=d===void 0?!1:d;var e=a.onAriaChange,f=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,h);e=c("useBaseMentionsLayoutStrategyARIAProps.react")({entries:a.entries,highlightedEntry:a.highlightedEntry,onAriaChange:e});return j.jsxs("div",{children:[j.jsx(f,babelHelpers["extends"]({},a,{ariaProps:e,isLoading:d?b:!1})),!b&&a.entries.length===0?j.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadProgressGlimmer.react",["FDSProgressRingIndeterminate.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xdd8jsf",justifyContent:"xl56j7k",$$css:!0}};function a(){return i.jsx(d("react-strict-dom").html.div,{style:j.root,children:i.jsx(c("FDSProgressRingIndeterminate.react"),{color:"dark",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d}),66);
__d("IGDAudioRecorder.react",["MWPAudioHighlightStylesHooks","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPUseVoiceRecorder","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=d("react-compiler-runtime").c(50);a=a.voiceRecorder;var e=k(void 0);a=a;var f=a.audioEl,g=a.state,i=d("MWPAudioPlayerUtils").useResetHighlightProgress(e),l;b[0]!==g?(l=d("MWPUseVoiceRecorder").hasScrubber(g),b[0]=g,b[1]=l):l=b[1];l=l;var m=l?"pointer":"default",n;b[2]!==m?(n={backgroundColor:"var(--chat-composer-button-color)",borderRadius:"18px",cursor:m,height:"36px"},b[2]=m,b[3]=n):n=b[3];m=d("MWPAudioHighlightStylesHooks").useHighlightStyles(!0);var o;b[4]!==n||b[5]!==m?(o={containerStyle:n,highlightStyles:m},b[4]=n,b[5]=m,b[6]=o):o=b[6];n=o;b[7]!==g?(m=d("MWPUseVoiceRecorder").getDuration(g),b[7]=g,b[8]=m):m=b[8];b[9]!==g?(o=d("MWPUseVoiceRecorder").getCurrentTime(g),b[9]=g,b[10]=o):o=b[10];var p;b[11]!==g?(p=d("MWPUseVoiceRecorder").isProgressing(g),b[11]=g,b[12]=p):p=b[12];var q;b[13]!==g?(q=d("MWPUseVoiceRecorder").isCompleted(g),b[13]=g,b[14]=q):q=b[14];m=d("MWPAudioPlayerUtils").useProgressLiveUpdate(m,f,o,p,!1,q);o=n.containerStyle;b[15]!==n.highlightStyles||b[16]!==m?(p=j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:m,xstyle:n.highlightStyles}),b[15]=n.highlightStyles,b[16]=m,b[17]=p):p=b[17];b[18]!==g?(q=d("MWPUseVoiceRecorder").showScreenReaderLabel(g)&&j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:d("MWPUseVoiceRecorder").getCurrentTime(g)||0,duration:d("MWPUseVoiceRecorder").getDuration(g)}),b[18]=g,b[19]=q):q=b[19];b[20]!==n.highlightStyles?(m=j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:e,xstyle:n.highlightStyles}),b[20]=n.highlightStyles,b[21]=m):m=b[21];var r;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(r=(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),b[22]=r):r=b[22];i=l?i:null;var s;b[23]!==g?(s=d("MWPUseVoiceRecorder").getPlaybackIcon(g,"var(--chat-composer-button-color)"),b[23]=g,b[24]=s):s=b[24];var t;b[25]!==g?(t=d("MWPUseVoiceRecorder").getPlaybackLabel(g),b[25]=g,b[26]=t):t=b[26];var u;b[27]!==s||b[28]!==t||b[29]!==a.toggle?(u=j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:s,label:t,onPress:a.toggle}),b[27]=s,b[28]=t,b[29]=a.toggle,b[30]=u):u=b[30];b[31]!==i||b[32]!==u?(s=j.jsx("div",babelHelpers["extends"]({},r,{onMouseMove:i,children:u})),b[31]=i,b[32]=u,b[33]=s):s=b[33];b[34]!==g?(t=d("MWPUseVoiceRecorder").getTimerTime(g),b[34]=g,b[35]=t):t=b[35];b[36]!==t?(a=j.jsx(c("MWPAudioPlayerTimer.react"),{time:t}),b[36]=t,b[37]=a):a=b[37];b[38]!==f||b[39]!==p||b[40]!==q||b[41]!==m||b[42]!==s||b[43]!==a?(r=j.jsxs(c("MWPAudioPlayerKeyCommands.react"),{audioEl:f,children:[p,q,m,s,a]}),b[38]=f,b[39]=p,b[40]=q,b[41]=m,b[42]=s,b[43]=a,b[44]=r):r=b[44];b[45]!==n.containerStyle||b[46]!==f||b[47]!==l||b[48]!==r?(i=j.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:f,hasScrubber:l,mediaRenderQpl:null,scrubberRef:e,style:o,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.RECORDER,children:r}),b[45]=n.containerStyle,b[46]=f,b[47]=l,b[48]=r,b[49]=i):i=b[49];return i}g["default"]=a}),98);
__d("IGDMentionsLayoutStrategy.react",["CometContextualLayer.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","IGDSPopover.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ariaProps","context","entries","isLoading","onBlur","position","viewRef"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(19);if(b[0]!==a){var e=a.ariaProps,f=a.context,g=a.entries;a.isLoading;a.onBlur;var i=a.position;a.viewRef;var k=babelHelpers.objectWithoutPropertiesLoose(a,h);e=e;f=f;g=g;i=i;k=k;b[0]=a;b[1]=e;b[2]=f;b[3]=g;b[4]=i;b[5]=k}else e=b[1],f=b[2],g=b[3],i=b[4],k=b[5];a=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();var l;b[6]!==a?(l={eventName:"mentions_popover_rendered",flowInstanceId:a},b[6]=a,b[7]=l):l=b[7];a=c("MessengerWebUXLogger").useImpressionLoggerRef(l);if(g.length===0)return null;b[8]!==e||b[9]!==g||b[10]!==k?(l=j.jsx(c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers["extends"]({ariaProps:e,entries:g,isLoading:!1},k)),b[8]=e,b[9]=g,b[10]=k,b[11]=l):l=b[11];b[12]!==a||b[13]!==l?(e=j.jsx(c("IGDSPopover.react"),{popoverContent:l,ref:a}),b[12]=a,b[13]=l,b[14]=e):e=b[14];b[15]!==f||b[16]!==i||b[17]!==e?(g=j.jsx(c("CometContextualLayer.react"),{align:"start",context_DEPRECATED:f,position:i,children:e}),b[15]=f,b[16]=i,b[17]=e,b[18]=g):g=b[18];return g}g["default"]=a}),98);
__d("cometMentionsDataEntryText",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return(b=a.handle)!=null?b:a.label}f["default"]=a}),66);
__d("MWChatAppendMentionsNodeToReply",["I64","LSContactTypeExact","LSIntEnum","Lexical","LexicalText","MWChatComposerTypeaheadUtil","MWPReplyContext.react","MessengerLexicalActorNode","ReQL","ReQLSuspense","cometMentionsDataEntryText","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useContext,m=b.useEffect;function n(a,b){a.update(function(){var e=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(e)||!e.isCollapsed())return;var f=e.anchor;f=f.getNode();var g=c("cometMentionsDataEntryText")(b),h=d("Lexical").$getRoot().getAllTextNodes().some(function(a){return d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)&&a.getTextContent().includes(g)});if(h===!0)return;h=d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:b.key,text:g});var i=d("LexicalText").$isRootTextContentEmpty(a.isComposing());i?e.insertNodes([h]):f.insertBefore(h);h.selectNext(0,0)})}function a(a,b,e){var g=l(d("MWPReplyContext.react").MWPReplyContext),k=g.reply,o=c("usePrevious")(k),p=(h||(h=c("useReStore")))(),q=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(p.tables.messages).getKeyRange(b,k.timestampMs,k.messageId):d("ReQL").empty()},[k,b,p],f.id+":91");g=d("ReQLSuspense").useFirst(function(){return q!=null?d("ReQL").fromTableAscending(p.tables.contacts).getKeyRange(q.senderId):d("ReQL").empty()},[p,q],f.id+":102");g=g!=null?(i||(i=d("I64"))).equal(g.contactTypeExact,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)):!1;var r=g&&(q==null?void 0:q.botResponseId)!=null;m(function(){var b=o==null&&k!=null;b&&r&&e===!0&&n(a,d("MWChatComposerTypeaheadUtil").aiBotMentionsEntry)},[a,k,o,r,e])}g.insertMentionNodeToFront=n;g.useMWChatAppendMentionsNodeToReply=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometImageFromIXValue.react","CometSearchMentionsBaseViewItem.react","FDSIcon.react","FDSProfilePhoto.react","FDSTextPairing.react","MWXSvgIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry"],i,j=i||d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=b.handle;e=b.key;e=b.label;var f=b.rawData,g=f.icon,i=f.image,k=f.photoURI;f=f.subtitle;var l;k!=null?l=j.jsx(c("FDSProfilePhoto.react"),{size:28,source:{uri:k}}):g!=null?l=g instanceof d("MWXSvgIcon").MWXSvgIcon?j.jsx(c("FDSIcon.react"),{color:"primary",disabled:!1,icon:g.originalComponent,size:28}):j.jsx(c("FDSIcon.react"),{color:"primary",disabled:!1,icon:g}):i!=null&&(l=j.jsx(c("CometImageFromIXValue.react"),{source:i}));return j.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemStartContent:l,testid:void 0,children:j.jsx(c("FDSTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.anchorNode,e=b.endOffset,f=b.selectedEntry;b=b.startOffset;if(b===0){var g=d.splitText(e);g=g[0]}else{d=d.splitText(b,e);g=d[1]}if(g==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+e+".");return}d=a(f);d.setStyle(g.getStyle());g.replace(d);d.selectNext(0,0)}}g["default"]=a}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:a.key,text:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["isLoading"],i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b=a.viewItemStrategyRenderer;return k(function(a){var d=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometMentionsViewListStrategy.react"),babelHelpers["extends"]({},a,{isLoading:!1,viewItemStrategyRenderer:b})),d&&j.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},[b])}g["default"]=a}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=6;a=function(){function a(a,b,d,e,f,g){this.$1=[],this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()}),this.$2=b,this.$3=d!=null?d:null,this.$4=e,this.$5=f,this.$6=g}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){return d("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(a,this.$1,this.$2,this.$3,this.$4,this.$5,i,this.$6)};e.fetchNetwork=function(a){return(h||(h=b("Promise"))).resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f,g){"use strict";var h="(?:\\.[ |$]| |["+c("DocumentMentionsRegex").PUNCTUATION+"]|)",i=75;function j(a,b,c){b="[^"+a+b+"\\s]";c=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+c+"){0,"+i+"}))$");var d=50;a=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+"){0,"+d+"}))$");return{regex:c,regexAlias:a}}function a(a){var b=a.minMatchLength,d=a.name,e=a.triggers,f=a.disallowedChars;f=f===void 0?c("DocumentMentionsRegex").PUNCTUATION:f;var g=a.disallowedTerms;a=a.validJoins;a=a===void 0?h:a;e=j(e,f,a);var i=e.regex,k=e.regexAlias;return{findMentionableString:function(a){var c=i.exec(a);c===null&&(c=k.exec(a));if(c!==null){a=c[1];var d=c[3];if(g!=null&&g.includes(d.toLowerCase()))return null;if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:d}}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;",j="(?:\\.[ |$]|[ ]['\"]|['\"][ |$]| |["+i+"]|)";function a(a){var b=a.disallowedTerms;a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,disallowedTerms:b,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h,validJoins:j})}g["default"]=a}),98);
__d("useCometMentionsDataSourceResolverConfig",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useLayoutEffect,k=b.useMemo;function a(a,b){var c=i(function(){a.forEach(function(a){a=a.dataSource;a.bootstrap()})},[a]);j(function(){if(!b)return;c()},[b,c]);return k(function(){var b=new Map();return{bootstrap:c,resolver:function(c){var d={dataSource:null,searchResult:null};if(c==null)return d;var e=b.get(c);if(e!=null)return e;for(e=0;e<a.length;e++){var f=a[e],g=f.dataSource;f=f.matchStrategy;f=f.findMentionableString(c);if(f!=null){g={dataSource:g,searchResult:f};b.set(c,g);return g}}b.set(c,d);return d}}},[a,c])}g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatComposerMentionsTypeaheadDataSource","MWLSThread","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function a(a){var b=a.isAiBotMentionsEnabled,e=a.participants,f=a.threadFBID,g=a.triggerParticipantsSearch;a=d("MWLSThread").useThreadExn((i||(i=d("I64"))).of_string(f));var h=a.threadType,k=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSThreadBitOffset").has(43,a);a=j(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(e,f,g,b,k,h),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[k,b,e,f,g,h]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("MWWorkForeignEntityTypeUtils",["I64","LSContactWorkForeignEntityType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)))return"NOT_FOREIGN";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN_LIMITED)))return"LIMITED";else return"FOREIGN"}g.getWorkForeignEntityType=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWLSContactTypeExactUtils","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a.contactId),f.id+":43"),a]})},[g,b],f.id+":37"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,blockedByViewerStatus:a.blockedByViewerStatus,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:d("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact)?a.secondaryName:void 0,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("IGDMentionsPluginForLexical.react",["CometMentionsForLexical.react","I64","IGDMentionsLayoutStrategy.react","IGDThreadListNewMessageLoggingDataContext","Lexical","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MessengerWebUXLogger","messengerMentionsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometMentionsViewListStrategy","useMWChatMentionsDataSourceResolverConfig","useParticipantsExcludingViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var k={root:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",marginTop:"xdj266r",marginBottom:"xat24cr",minWidth:"x1jzhcrs",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.editor,f=a.isAiBotMentionsEnabled;a=a.threadKey;var g;b[0]!==a?(g={threadKey:a},b[0]=a,b[1]=g):g=b[1];g=c("useParticipantsExcludingViewer")(g);var h;b[2]!==a?(h=(i||(i=d("I64"))).to_string(a),b[2]=a,b[3]=h):h=b[3];h=h;var k;b[4]!==f||b[5]!==g||b[6]!==h?(k={isAiBotMentionsEnabled:f,participants:g,threadFBID:h},b[4]=f,b[5]=g,b[6]=h,b[7]=k):k=b[7];g=k;h=g;k=c("useMWChatMentionsDataSourceResolverConfig")(h);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g={viewItemStrategyRenderer:m},b[8]=g):g=b[8];h=c("useCometMentionsViewListStrategy")(g);d("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(e,a,f);var n=c("MessengerWebUXLogger").useInteractionLogger(),o=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[9]!==e||b[10]!==o||b[11]!==n?(g=function(){n==null||n({eventName:"mentions_recipient_selected",flowInstanceId:o}),e.update(l)},b[9]=e,b[10]=o,b[11]=n,b[12]=g):g=b[12];a=g;b[13]!==k||b[14]!==e||b[15]!==a||b[16]!==h?(f=j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:k,editor:e,layoutStrategyRenderer:c("IGDMentionsLayoutStrategy.react"),onMentionsEntrySelected:a,position:"above",viewStrategyRenderer:h}),b[13]=k,b[14]=e,b[15]=a,b[16]=h,b[17]=f):f=b[17];return f}function l(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a))return;a.insertText(" ")}function m(a){return j.jsx(c("MWChatComposerMentionsViewItem.react"),babelHelpers["extends"]({},a,{xstyle:k.root}))}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSIssuePointQueryRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSLogWebQpl.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issuePointQueryRestoreTask] Beginning execution."),d[1]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Point query restore v2 is enabled"),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[14]=new c.Map(),d[14].set("error_msg","Expected a nonempty query result"),d[14].set("code",c.i64.cast([0,3])),d[14].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[15]=c.createArray(),d[16]=(d[15].push(d[14]),d[15]),e=[void 0,d[15]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[14]=new c.Map(),d[14].set("backup_id",b.backupId),d[14].set("device_public_key_blob",b.devicePublicKeyBlob),d[14].set("device_private_key_blob",b.devicePrivateKeyBlob),d[14].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[14].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[14].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[14].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[14].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[14].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[14].set("orf_client_state_v2_blob",void 0),d[14].set("orf_v2_authority_level",void 0),d[14].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[14].set("device_id",b.deviceId),d[14].set("backup_tenancy",b.backupTenancy),d[14].set("encryption_version",b.encryptionVersion),d[14].set("revision_version",b.revisionVersion),d[14].set("initialize_restore_result",void 0),d[14].set("device_creation_timestamp_sec",void 0),d[14].set("authority_level",b.authorityLevel),e=[d[14],void 0],d[2]=e[0],d[3]=e[1])})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[14]=d[6].get("backup_id"),d[15]=d[6].get("device_public_key_blob"),d[16]=d[6].get("device_private_key_blob"),d[17]=d[6].get("epoch_storage_public_key_blob"),d[18]=d[6].get("epoch_storage_private_key_blob"),d[19]=d[6].get("epoch_auth_public_key_blob"),d[20]=d[6].get("epoch_auth_private_key_blob"),d[21]=d[6].get("mailbox_root_key_blob"),d[22]=d[6].get("ocmf_client_state_blob"),d[23]=d[6].get("orf_client_state_v2_blob"),d[24]=d[6].get("orf_v2_authority_level"),d[25]=d[6].get("oblivious_validation_token_blob"),d[26]=d[6].get("device_id"),d[27]=d[6].get("backup_tenancy"),d[28]=d[6].get("encryption_version"),d[29]=d[6].get("revision_version"),d[30]=d[6].get("initialize_restore_result"),d[31]=d[6].get("device_creation_timestamp_sec"),d[32]=d[6].get("authority_level"),c.i64.neq(d[26],void 0)?c.sequence([function(a){return d[34]=void 0,c.i64.neq(d[34],void 0)?c.resolve(d[35]=d[34]):c.sequence([function(a){return d[61]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[62]?d[71]=(d[61].push(c.i64.cast([0,0])),d[61]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[63]?d[71]=(d[61].push(c.i64.cast([0,2])),d[61]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[64]?d[71]=(d[61].push(c.i64.cast([0,3])),d[61]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[65]=a[0],a})},function(a){return d[65]?d[71]=(d[61].push(c.i64.cast([0,4])),d[61]):0,d[66]=c.createArray(),d[67]=c.i64.of_int32(d[61].length),c.i64.gt(d[67],c.i64.cast([0,0]))?c.loopAsync(d[67],function(a){return d[71]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[61],d[71]).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[74]=(d[66].push(d[72]),d[66])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[71]=c.createArray(),d[72]=c.i64.of_int32(d[66].length),c.i64.gt(d[72],c.i64.cast([0,0]))?c.loopAsync(d[72],function(a){return d[74]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[66],d[74]).then(function(a){return a=a,d[75]=a[0],d[76]=a[1],a})},function(a){return d[77]=(d[71].push(c.i64.to_string(d[75])),d[71])}])}):c.resolve()},function(a){return d[73]=d[71].join(","),d[68]=d[73]}])},function(a){return d[66].some(function(a){return c.i64.eq(d[28],a)})?d[69]=d[28]:d[69]=void 0,c.i64.neq(d[69],void 0)?d[70]=d[69]:d[70]=void 0,d[35]=d[70]}])},function(e){return c.i64.neq(d[35],void 0)?d[36]=d[35]:d[36]=c.i64.cast([0,0]),c.i64.neq(d[27],void 0)?d[37]=d[27]:d[37]=c.i64.cast([0,1]),d[38]=c.i64.random(),d[39]=a[3]==null?c.i64.to_string(d[38]):a[3],d[39]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[39],!0,void 0):c.resolve()},function(a){return d[39]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[39],"issue_task"):c.resolve()},function(a){return d[39]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[39],"request_type","ENCRYPTED_BACKUPS_MESSAGE_POINT_QUERY"):c.resolve()},function(e){return d[58]=c.i64.to_string(a[4]),d[39]!==void 0?d[58]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[39],"task_creation_source",d[58]):c.resolve():c.resolve()},function(e){return d[40]=new c.Map(),d[40].set("act_thread_id",a[0]),d[40].set("request_id",d[39]),d[40].set("tam_thread_subtype",c.i64.cast([0,0])),d[40].set("mem_message_type",c.i64.cast([0,0])),d[40].set("source",a[4]),c.nativeOperation(b("LSBase64Encode.nop"),d[22]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[43]=new c.Map(),d[43].set("ocmf_client_state_blob",d[41]==null?"":d[41]),d[43].set("mailbox_root_key",d[42]==null?"":d[42]),d[44]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[61]=(d[44].push(a.epochId),d[44])})},function(a){return d[59]="Queried locally available epochs. Count: ",d[45]=c.i64.of_int32(d[44].length),d[60]=c.i64.to_string(d[45]),d[46]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[46],d[59],d[46],d[60]].join("")),c.resolve()},function(e){return d[47]=new c.Map(),d[47].set("device_id",d[26]),d[47].set("raw_tokens",d[43]),d[47].set("locally_available_epochs",d[44]),d[48]=new c.Map(),d[48].set("reference_timestamp",a[2]),d[48].set("device_context",d[47]),d[48].set("message_id",a[1]),d[49]=new c.Map(),d[49].set("restore_context",d[40]),d[49].set("success",d[48]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[61]=c.i64.of_float(Date.now()),d[50]=c.i64.add(d[61],c.i64.cast([0,0]))):d[50]=c.i64.cast([0,0]),d[51]=d[49].get("restore_context"),d[52]=d[49].get("success"),d[52]!==void 0?(d[61]=d[52].get("message_id"),d[53]=d[61]):d[53]="",d[54]=d[51].get("act_thread_id"),d[55]=":",d[56]=c.toJSON(d[49]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[55],d[54],d[55],d[53]].join(""),c.i64.cast([0,50035]),d[56],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[50],c.i64.cast([0,0])).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[33]=d[57]}]):c.sequence([function(e){return d[34]=new c.Map(),d[34].set("error_code",c.i64.cast([0,1])),d[34].set("error_message",""),d[34].set("stored_procedure","issuePointQueryRestoreTask"),d[35]=new c.Map(),d[35].set("act_thread_id",a[0]),d[36]=new c.Map(),d[36].set("restore_context",d[35]),d[36].set("failure",d[34]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[45]=c.i64.of_float(Date.now()),d[37]=c.i64.add(d[45],c.i64.cast([0,0]))):d[37]=c.i64.cast([0,0]),d[38]=d[36].get("restore_context"),d[39]=d[36].get("success"),d[39]!==void 0?(d[45]=d[39].get("message_id"),d[40]=d[45]):d[40]="",d[41]=d[38].get("act_thread_id"),d[42]=":",d[43]=c.toJSON(d[36]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[42],d[41],d[42],d[40]].join(""),c.i64.cast([0,50035]),d[43],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[37],c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[33]=d[44]}])},function(a){return d[7]=d[33]}]):c.sequence([function(e){return d[14]=d[5].get("errors"),d[15]=d[5].get("errors"),d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,1])),d[16].set("error_message",""),d[16].set("stored_procedure","issuePointQueryRestoreTask"),d[17]=new c.Map(),d[17].set("act_thread_id",a[0]),d[18]=new c.Map(),d[18].set("restore_context",d[17]),d[18].set("failure",d[16]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[27]=c.i64.of_float(Date.now()),d[19]=c.i64.add(d[27],c.i64.cast([0,0]))):d[19]=c.i64.cast([0,0]),d[20]=d[18].get("restore_context"),d[21]=d[18].get("success"),d[21]!==void 0?(d[27]=d[21].get("message_id"),d[22]=d[27]):d[22]="",d[23]=d[20].get("act_thread_id"),d[24]=":",d[25]=c.toJSON(d[18]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[24],d[23],d[24],d[22]].join(""),c.i64.cast([0,50035]),d[25],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[19],c.i64.cast([0,0])).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[7]=d[26]}])},function(d){return a[3]!==void 0?c.nativeOperation(b("LSLogWebQpl.nop"),a[3],c.i64.cast([0,521476165]),"restore_task_start",c.i64.cast([0,1]),a[4],void 0):c.resolve()},function(a){return d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[11]="Finishing execution. Execution time: ",d[12]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[13]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issuePointQueryRestoreTask] ",d[10],d[11],d[10],d[12],d[10],d[13]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[14]=",",d[15]=c.createArray(),void 0!==void 0?d[16]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issuePointQueryRestoreTask",[d[11],d[14],d[12],d[14],d[13]].join(""),d[15],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSIssuePointQueryRestoreTaskStoredProcedure",["LSIssuePointQueryRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePointQueryRestoreTask"),e.threadId,e.messageId,e.startSortKey,e.traceId,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("153");b=d("FalcoLoggerInternal").create("ls_1lc_feature_open",a);e=b;g["default"]=e}),98);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743852");b=d("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e=b;g["default"]=e}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743853");b=d("FalcoLoggerInternal").create("ls_message_click",a);e=b;g["default"]=e}),98);
__d("MAWBridgeIssuePointQueryHandler",["EBIsEbEnabled","I64","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSRequestId","MAWEBRestoreTrackingUtils","Promise","WAGetStorageQplAnnotations","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(b){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:b,pointName:"storage_estimation_retrieved",traceId:a})}))}function a(a,c){return d("EBIsEbEnabled").isEbEnabledLS(a).then(function(d){return!d?(j||(j=b("Promise"))).resolve():l(a,c)})}function l(a,b){var e=c("LSRequestId").generate(),f=(h||(h=d("LSIntEnum"))).unwrapIntEnum((i||(i=d("I64"))).of_float(b.taskSource));d("MAWEBRestoreTrackingUtils").markEBRestorePoint(f,e,"LS");k(e);return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:b.messageId,source:h.ofNumber(f),startSortKey:b.startSortKey,threadId:b.threadId,traceId:e}).then(c("emptyFunction"))}g.call=a}),98);
__d("MLCHealthLoggerEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({COMMIT_CREATE:"commit_create",COMMIT_EDIT:"commit_edit",DAILY_INTERACTION_WITH_SURFACE:"daily_interaction_with_surface"});c=a;f["default"]=c}),66);
__d("MlcHealthBizappEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2646");b=d("FalcoLoggerInternal").create("mlc_health_bizapp_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookAndWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2647");b=d("FalcoLoggerInternal").create("mlc_health_facebook_and_workplace_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2648");b=d("FalcoLoggerInternal").create("mlc_health_facebook_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInstagramEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3766");b=d("FalcoLoggerInternal").create("mlc_health_instagram_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInternalToolsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2649");b=d("FalcoLoggerInternal").create("mlc_health_internal_tools_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthMessagingLightswitchEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2650");b=d("FalcoLoggerInternal").create("mlc_health_messaging_lightswitch_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2651");b=d("FalcoLoggerInternal").create("mlc_health_workplace_event",a);e=b;g["default"]=e}),98);
__d("MLCHealthInstrumentationPlugin__INTERNAL.react",["Lexical","LexicalComposerContext","LexicalUtils","MLCInstrumentationCommands","MlcHealthBizappEventFalcoEvent","MlcHealthFacebookAndWorkplaceEventFalcoEvent","MlcHealthFacebookEventFalcoEvent","MlcHealthInstagramEventFalcoEvent","MlcHealthInternalToolsEventFalcoEvent","MlcHealthMessagingLightswitchEventFalcoEvent","MlcHealthWorkplaceEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect,j=new Set();function k(a){switch(a){case"facebook":return c("MlcHealthFacebookEventFalcoEvent");case"workplace":return c("MlcHealthWorkplaceEventFalcoEvent");case"facebook_and_workplace":return c("MlcHealthFacebookAndWorkplaceEventFalcoEvent");case"internal_tools":return c("MlcHealthInternalToolsEventFalcoEvent");case"messaging_lightswitch":return c("MlcHealthMessagingLightswitchEventFalcoEvent");case"bizapp":return c("MlcHealthBizappEventFalcoEvent");case"instagram":return c("MlcHealthInstagramEventFalcoEvent");default:return null}}function l(a,b,c){(a=k(a))==null||a.log(function(){return{event:c,surface:b}})}function a(a){var b=a.policyProduct,c=a.surface;a=d("LexicalComposerContext").useLexicalComposerContext();var e=a[0];i(function(){var a=function(){};j.has(c)||(a=e.registerUpdateListener(function(d){var f=d.dirtyLeaves;d=d.tags;if(j.has(c)){a();return}if(f.size===0||d.has("history-merge")||!e.isEditable())return;j.add(c);l(b,c,"daily_interaction_with_surface");a()}));return d("LexicalUtils").mergeRegister(a,e.registerCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,function(a){a==="create"?l(b,c,"commit_create"):l(b,c,"commit_edit");return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL))},[e,b,c]);return null}g["default"]=a}),98);
__d("MLCInteractionInstrumentationPlugin__INTERNAL.react",["cr:3286","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return b("cr:3286")&&i.jsx(b("cr:3286"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCTextLengthBucket",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["S","M","L","XL"]);function a(a){if(a<=500)return g.S;if(a<=1e3)return g.M;return a<=2500?g.L:g.XL}f.TextLengthBucketEnum=g;f.getTextLengthBucket=a}),66);
__d("MLCTypingPerformancePlugin__INTERNAL.react",["LexicalComposerContext","LexicalText","MLCTextLengthBucket","cr:2012305","cr:308","cr:3287","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useLayoutEffect,k=b("cr:2012305")||b("cr:308"),l=new RegExp("[^,;\\s]{200,}"),m=new RegExp("[^,;\\s]{100,199}"),n=new RegExp("[^,;\\s]{50,99}");function o(a){if(a==="")return 0;if(l.test(a))return 200;else if(m.test(a))return 100;else if(n.test(a))return 50;else return 0}function a(a){if(k===null)return null;b("cr:3287")&&b("cr:3287")();return i.jsx(p,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.format__DEPRECATED,e=a.surface;a=a.typingPerformanceID;var f=a===void 0?"":a;a=d("LexicalComposerContext").useLexicalComposerContext();var g=a[0];j(function(){var a=babelHelpers["extends"]({largeWord:o(g.getEditorState().read(d("LexicalText").$rootTextContent)),textLengthBucket:d("MLCTextLengthBucket").getTextLengthBucket(g.getEditorState().read(d("LexicalText").$rootTextContent).length)},e==="FeedComposerCometStatusArea"?{autolinkFastPath:String(c("gkx")("8927"))}:null),h;i();function i(){h==null||h();if(k===null)return;var c=null,d=g.registerRootListener(function(d){if(d===c)return;c!==null&&k.unregisterTypingPerf(c);d!==null&&k.trackTypingPerf(d,e,c,babelHelpers["extends"]({},a,{editor:"LexicalEditor",format:b!=null?b:"",typingPerformanceID:f}));c=d});h=function(){d(),c!==null&&k.unregisterTypingPerf(c)}}var j=g.registerTextContentListener(function(b){b=o(b);b!==a.largeWord&&(a.largeWord=b,i())}),l=g.registerTextContentListener(function(b){b=d("MLCTextLengthBucket").getTextLengthBucket(b.length);b!==a.textLengthBucket&&(a.textLengthBucket=b,i())});return function(){h==null||h(),j==null||j(),l==null||l()}},[f,g,b,e]);return null}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCInstrumentationPlugin__INTERNAL.react",["MLCHealthInstrumentationPlugin__INTERNAL.react","MLCInteractionInstrumentationPlugin__INTERNAL.react","MLCTypingPerformancePlugin__INTERNAL.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b="facebook";b;function a(a){return i.jsxs(i.Fragment,{children:[i.jsx(c("MLCTypingPerformancePlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),i.jsx(c("MLCHealthInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),i.jsx(c("MLCInteractionInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatAudioLog",["AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","I64","Ls1lcFeatureOpenFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){c("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:"true",position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function b(){c("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}}),c("Ls1lcFeatureOpenFalcoEvent").log(function(){return{extra:void 0,feature:13,feature_sessionid:void 0,screen_orientation:void 0,stage:7,thread:void 0}})}function e(){c("AudioClipsCancelledByUserFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function f(){c("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function i(a){c("AudioClipsPlaybackStartFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function j(a,b){c("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function k(a,b){c("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function l(){c("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function m(){c("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function n(){c("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}g.logClickStopRecording=a;g.logClickStartRecording=b;g.logDeleteRecording=e;g.logBrowserDenyAccess=f;g.logPlaybackStart=i;g.logPlaybackPause=j;g.logPlaybackResume=k;g.logDialogOk=l;g.logDialogNotNow=m;g.logMicAccessCheckFailed=n}),98);
__d("MWChatTabSharedQPLAnnotations",["I64","MAWCurrentUser","MAWMIC","MAWOfflineQueueStatus","MWChatMessagesOnChatTabLoadTracker","MultipleTabsLogger","promiseDone","requireDeferred","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWThreadCutover").__setRef("MWChatTabSharedQPLAnnotations");function j(a){return a===15||a===16}function a(a,b,e){var f=(h||(h=d("I64"))).to_string(e),g=b!=null?j(b):!1;a.addAnnotation("thread_id",f);a.addAnnotation("thread_type",b?b.toString():"");a.addAnnotationBoolean("is_secure",g);d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotationInt("is_tlc_public_user",d("MAWCurrentUser").isTlcPublicUser()?1:0);a.setTracePolicy("comet.messenger.chat_tab."+(j(b)?"secure":"open"));g=d("MAWOfflineQueueStatus").getAllThreadsWithOfflineQueueIncomplete().length>0;a.addAnnotationBoolean("has_pending_or_inprogress_oq_threads",g);d("MAWMIC").duringMIC()&&(a.addAnnotationInt("startedDuringMIC",1),a.addMarkerPoint("MIC_dependency_start","AppTiming"),c("promiseDone")(d("waitForMAWMIC").promise,function(){a.addMarkerPoint("MIC_dependency_end","AppTiming")}));i.onReady(function(b){c("promiseDone")(b.isCutoverThreadKey(e).then(function(b){a.addAnnotationInt("is_cutover",b?1:0)}))});a.onComplete(function(){var b=d("MWChatMessagesOnChatTabLoadTracker").getMessageSendsCountFor(f),c=d("MWChatMessagesOnChatTabLoadTracker").getMessageReceivesCountFor(f);a.addAnnotationInt("messagesSent",b);a.addAnnotationInt("messagesReceived",c);a.addAnnotationInt("totalMessages",c+b);d("MWChatMessagesOnChatTabLoadTracker").clearMessageCountsFor(f)})}g.isSecure=j;g.addSharedAnnotations=a}),98);
__d("MessageRequestsBulkActionConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("256");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_confirmed",a);e=b;g["default"]=e}),98);
__d("MessageRequestsBulkActionEditFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2614");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_edit",a);e=b;g["default"]=e}),98);
__d("MessageRequestsBulkActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("257");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsInfoBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("258");b=d("FalcoLoggerInternal").create("message_requests_info_banner_shown",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadActionConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("259");b=d("FalcoLoggerInternal").create("message_requests_thread_action_confirmed",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("260");b=d("FalcoLoggerInternal").create("message_requests_thread_action_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadDenialOptionsTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("261");b=d("FalcoLoggerInternal").create("message_requests_thread_denial_options_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsViewThreadlistFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("263");b=d("FalcoLoggerInternal").create("message_requests_view_threadlist",a);e=b;g["default"]=e}),98);
__d("MessageThreadEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5034");b=d("FalcoLoggerInternal").create("message_thread_events",a);e=b;g["default"]=e}),98);
__d("MwbCmInformTreatmentEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6736");b=d("FalcoLoggerInternal").create("mwb_cm_inform_treatment_event",a);e=b;g["default"]=e}),98);
__d("MwbInformTreatmentShownImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6735");b=d("FalcoLoggerInternal").create("mwb_inform_treatment_shown_impression",a);e=b;g["default"]=e}),98);
__d("PolarisDirectMediaHelpers",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.map(function(a){var b=a.height,c=a.url;a=a.width;return{configHeight:b,configWidth:a,src:c}})}function b(a){var b=a.carousel_media;return b==null?-1:b.findIndex(function(b){return b.id===a.carousel_share_child_media_id})}f.getSrcSet=a;f.getSharedCarouselChildIdxIfAny=b}),66);
__d("PolarisDirectMessagePostModal.react",["PolarisDirectMediaHelpers","PolarisLinkBuilder","PolarisPost.react","PolarisPostModal.react","PolarisPostVariants","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e=a.media,f=a.modalEntryPath,g=a.onClose;a=a.onOpen;var h;b[0]!==e.id?(h=e.id.split("_"),b[0]=e.id,b[1]=h):h=b[1];h=h[0];var j=e.code,k;b[2]!==e.original_height||b[3]!==e.original_width?(k={height:e.original_height,width:e.original_width},b[2]=e.original_height,b[3]=e.original_width,b[4]=k):k=b[4];k=k;var l;b[5]!==e?(l=d("PolarisDirectMediaHelpers").getSharedCarouselChildIdxIfAny(e),b[5]=e,b[6]=l):l=b[6];e=l;b[7]!==e||b[8]!==h?(l=i.jsx(c("PolarisPost.react"),{analyticsContext:"directThreadPageModal",autoplay:!0,id:h,initialCarouselIndex:e,isVisible:!0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0}),b[7]=e,b[8]=h,b[9]=l):l=b[9];b[10]!==k||b[11]!==f||b[12]!==g||b[13]!==a||b[14]!==j||b[15]!==h||b[16]!==l?(e=i.jsx(c("PolarisPostModal.react"),{analyticsContext:"DirectThreadPage",dimensions:k,mediaLinkBuilder:d("PolarisLinkBuilder").buildMediaLink,modalEntryPath:f,onClose:g,onOpen:a,postCode:j,postId:h,children:l}),b[10]=k,b[11]=f,b[12]=g,b[13]=a,b[14]=j,b[15]=h,b[16]=l,b[17]=e):e=b[17];return e}g["default"]=a}),98);
__d("ZenonUserActionLoggerCommon",["ZenonUserActionLogger"],(function(a,b,c,d,e,f,g){"use strict";g.logClick=c("ZenonUserActionLogger").logClick,g.logImpression=c("ZenonUserActionLogger").logImpression}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.cta,e=a.loggingDetails,f=a.source;if(e==null)return;a=b.actionContentBlob;var g=a!=null?i(a):"",n=a!=null?k(a):"",o=a!=null?j(a):"",p=a!=null?l(a):"",q=a!=null?m(a):"",r=e[1],s=e[0];c("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:n,id:(h||(h=d("I64"))).to_string(b.ctaId),name:"",source:f,type:r},message:{campaign_id:o,id:b.messageId,marketing_message_impression_token:p,marketing_message_surface:q,notification_token:g},page:{id:s},target:{id:s},thread:{id:s}}})}function i(a){try{a=JSON.parse(a);a=a.notification_message_token;return a!=null?a:""}catch(a){return""}}function j(a){try{a=JSON.parse(a);a=a.mbs_mm_campaign_id;return a!=null?a:""}catch(a){return""}}function k(a){try{a=JSON.parse(a);a=a.mm_cta_unique_id;return a!=null?a:""}catch(a){return""}}function l(a){try{a=JSON.parse(a);a=a.mm_impression_token;return a!=null?a:""}catch(a){return""}}function m(a){try{a=JSON.parse(a);a=a.mm_surface;return a!=null?a:""}catch(a){return""}}g.logXMACtaClicked=a}),98);