;/*FB_PKG_DELIM*/

__d("IGDMessageButton.react",["IGDSIconButton.react","IGDSTooltip.react","PolarisIGCorePressable.react","PolarisUA","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=["label","xstyle"],i,j=i||(i=d("react")),k=i.useState,l={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},buttonWithHover:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",opacity:"x1hc1fzr",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e,f,g;b[0]!==a?(e=a.label,g=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=k(!1);var i=a[0],n=a[1];b[4]!==g?(a=[l.button,l.buttonWithHover,g],b[4]=g,b[5]=a):a=b[5];b[6]!==f||b[7]!==a?(g=j.jsx(c("IGDSIconButton.react"),babelHelpers["extends"]({},f,{xstyle:a})),b[6]=f,b[7]=a,b[8]=g):g=b[8];f=g;a=c("useCurrentDisplayMode")();g=a==="dark";a=g?"primary":"black";b[9]!==i?(g=d("PolarisUA").isMobile()?!1:i,b[9]=i,b[10]=g):g=b[10];var o;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){n(!0)},o=function(){n(!1)},b[11]=i,b[12]=o):(i=b[11],o=b[12]);b[13]!==f?(i=j.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:i,onMouseLeave:o,onPress:m,children:f}),b[13]=f,b[14]=i):i=b[14];b[15]!==e||b[16]!==a||b[17]!==g||b[18]!==i?(o=j.jsx(c("IGDSTooltip.react"),{align:"middle",color:a,isVisible:g,position:"above",tooltip:e,children:i}),b[15]=e,b[16]=a,b[17]=g,b[18]=i,b[19]=o):o=b[19];return o}function m(){}g["default"]=a}),98);
__d("IGDMessageMoreContextMenuButton.react",["fbt","IGDMessageButton.react","IGDSLazyPopoverTrigger.react","IGDSMoreVerticalPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MessengerWebUXLogger","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","react","react-compiler-runtime","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("requireDeferred")("IGDMessageContextMenu.react").__setRef("IGDMessageMoreContextMenuButton.react");function a(a){var b=d("react-compiler-runtime").c(25),e=a.message,g=a.outgoing,j=a.thread,m=(i||(i=c("useReStore")))();b[0]!==m.tables.contacts||b[1]!==e.senderId?(a=function(){return d("ReQL").fromTableAscending(m.tables.contacts).getKeyRange(e.senderId)},b[0]=m.tables.contacts,b[1]=e.senderId,b[2]=a):a=b[2];var n;b[3]!==m||b[4]!==e.senderId?(n=[m,e.senderId],b[3]=m,b[4]=e.senderId,b[5]=n):n=b[5];a=d("ReQLSuspense").useFirst(a,n,f.id+":56");n=(n=a==null?void 0:a.name)!=null?n:a==null?void 0:a.secondaryName;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"\u305d\u306e\u4ed6"),b[6]=a):a=b[6];var o=a;b[7]!==n?(a=h._(/*BTDS*/"{sender name}\u3055\u3093\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u95a2\u3059\u308b\u305d\u306e\u4ed6\u306e\u30aa\u30d7\u30b7\u30e7\u30f3",[h._param("sender name",n)]),b[7]=n,b[8]=a):a=b[8];var p=a,q=c("MessengerWebUXLogger").useInteractionLogger(),r=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[9]!==r||b[10]!==q||b[11]!==e.messageId||b[12]!==j?(n=function(a){q==null||q({eventName:"open_message_options",extraData:babelHelpers["extends"]({},c("getInstamadilloLoggingExtraData")(j),{message_id:e.messageId}),flowInstanceId:r}),a()},a=[q,j,e.messageId,r],b[9]=r,b[10]=q,b[11]=e.messageId,b[12]=j,b[13]=n,b[14]=a):(n=b[13],a=b[14]);var s=d("Int64Hooks").useCallbackInt64(n,a);n=g?"end":"start";b[15]!==e||b[16]!==j?(a={message:e,thread:j},b[15]=e,b[16]=j,b[17]=a):a=b[17];b[18]!==p||b[19]!==s?(g=function(a,b){return k.jsx(c("IGDMessageButton.react"),{innerRef:a,label:o,onClick:function(){return s(b)},children:k.jsx(c("IGDSMoreVerticalPanoOutline24Icon.react"),{alt:p,color:"ig-primary-text","data-testid":void 0,size:16})})},b[18]=p,b[19]=s,b[20]=g):g=b[20];var t;b[21]!==n||b[22]!==a||b[23]!==g?(t=k.jsx(c("IGDSLazyPopoverTrigger.react"),{align:n,popoverProps:a,popoverResource:l,popoverType:"menu",position:"above",children:g}),b[21]=n,b[22]=a,b[23]=g,b[24]=t):t=b[24];return t}g["default"]=a}),226);
__d("IGDMessageNegativeFeedbackButton.react",["fbt","IGDMessageButton.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(11),e=a.message,f=c("useIGDSToaster")();b[0]!==f?(a=function(){f.add({message:h._(/*BTDS*/"\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u304c\u9001\u4fe1\u3055\u308c\u307e\u3057\u305f"),target:"bottom-left"})},b[0]=f,b[1]=a):a=b[1];a=a;var g=c("useMWV2SubmitFeedbackAction")(e.botResponseId,a);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("IGDMessageNegativeFeedbackButton.react"),b[2]=a):a=b[2];a=c("useIGDSLazyDialog")(a,k);var i=a[0];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"\u826f\u304f\u306a\u3044\u56de\u7b54"),b[3]=a):a=b[3];a=a;var l;b[4]!==e||b[5]!==g||b[6]!==i?(l=function(){i({message:e,onSubmit:g},c("emptyFunction"))},b[4]=e,b[5]=g,b[6]=i,b[7]=l):l=b[7];l=l;var m;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSThumbDownPanoOutline24Icon.react"),{alt:a,color:"ig-primary-text",size:16}),b[8]=m):m=b[8];b[9]!==l?(a=j.jsx(c("IGDMessageButton.react"),{"data-testid":void 0,label:a,onClick:l,children:m}),b[9]=l,b[10]=a):a=b[10];return a}function k(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessagePositiveFeedbackButton.react",["fbt","BotFeedbackKind","IGDMessageButton.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(15);a=a.message;var e=c("useIGDSToaster")(),f;b[0]!==e?(f=function(){e.add({message:h._(/*BTDS*/"\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u304c\u9001\u4fe1\u3055\u308c\u307e\u3057\u305f"),target:"bottom-left"})},b[0]=e,b[1]=f):f=b[1];f=f;var g=c("useMWV2SubmitFeedbackAction")(a.botResponseId,f);f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=(a=a.botResponseId)!=null?a:"";var i;b[2]!==a?(i={botResponseId:a},b[2]=a,b[3]=i):i=b[3];b[4]!==f||b[5]!==i?(a={extraData:i,flowInstanceId:f},b[4]=f,b[5]=i,b[6]=a):a=b[6];f=a;var k=f,l=c("MessengerWebUXLogger").useInteractionLogger();b[7]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"\u826f\u3044\u56de\u7b54"),b[7]=i):i=b[7];a=i;b[8]!==k||b[9]!==l||b[10]!==g?(f=function(){g(c("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),l==null||l(babelHelpers["extends"]({eventName:"submit_positive_feedback"},k))},b[8]=k,b[9]=l,b[10]=g,b[11]=f):f=b[11];i=f;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSThumbUpPanoOutline24Icon.react"),{alt:a,color:"ig-primary-text",size:16}),b[12]=f):f=b[12];b[13]!==i?(a=j.jsx(c("IGDMessageButton.react"),{"data-testid":void 0,label:a,onClick:i,children:f}),b[13]=i,b[14]=a):a=b[14];return a}g["default"]=a}),226);
__d("IGDMessageReactionButton.react",["fbt","EmojiFormat.bs","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MWV2MessageReactionHooks","MessengerWebUXLogger","ReQL","ReQLSuspense","UnicodeUtils","cr:8247","cr:8257","emptyFunction","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","useIGDGlobalReactMessage","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));k.useCallback;function a(a){var e=d("react-compiler-runtime").c(30),g=a.message,k=a.outgoing,m=a.setReactionsMenuOpen,n=(i||(i=c("useReStore")))();e[0]!==n.tables.contacts||e[1]!==g.senderId?(a=function(){return d("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(g.senderId)},e[0]=n.tables.contacts,e[1]=g.senderId,e[2]=a):a=e[2];var o;e[3]!==n||e[4]!==g.senderId?(o=[n,g.senderId],e[3]=n,e[4]=g.senderId,e[5]=o):o=e[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":47");var p=d("MWLSThread").useThread(g.threadKey);o=(o=a==null?void 0:a.name)!=null?o:a==null?void 0:a.secondaryName;var q=(a=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(g.messageId,g.threadKey))==null?void 0:a.reaction,r=c("useIGDGlobalReactMessage")(g,"reaction_tray");e[6]!==q||e[7]!==r?(a=function(a){var b=d("EmojiFormat.bs").codeArrayToUnicode(a);if(q!=null){var e=(j||(j=d("UnicodeUtils"))).getCodePoints(q);b===q&&(b=void 0);e[0]===10084&&a[0]===10084&&(b=void 0)}c("promiseDone")(r(b,"reaction"))},e[6]=q,e[7]=r,e[8]=a):a=e[8];a=a;k=k?"end":"start";var s;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"\u30ea\u30a2\u30af\u30b7\u30e7\u30f3\u3059\u308b"),e[9]=s):s=e[9];s=s;var t=c("MessengerWebUXLogger").useInteractionLogger(),u=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),v,w;e[10]!==u||e[11]!==t||e[12]!==g.messageId||e[13]!==p?(v=function(a){a(),p&&(t==null||t({eventName:"reaction_open_emoji_picker",extraData:babelHelpers["extends"]({},c("getInstamadilloLoggingExtraData")(p),{message_id:g.messageId}),flowInstanceId:u}))},w=[p,t,g.messageId,u],e[10]=u,e[11]=t,e[12]=g.messageId,e[13]=p,e[14]=v,e[15]=w):(v=e[14],w=e[15]);v=d("Int64Hooks").useCallbackInt64(v,w);e[16]!==o?(w=h._(/*BTDS*/"{sender name}\u3055\u3093\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u30ea\u30a2\u30af\u30b7\u30e7\u30f3",[h._param("sender name",o)]),e[16]=o,e[17]=w):w=e[17];o=w;e[18]!==m?(w=function(a){return m(function(){return a})},e[18]=m,e[19]=w):w=e[19];w=w;k=k;e[20]!==v||e[21]!==a||e[22]!==o||e[23]!==k?(s={align:k,altLabel:o,label:s,onClickAction:v,onClose:c("emptyFunction"),onSelect:a},e[20]=v,e[21]=a,e[22]=o,e[23]=k,e[24]=s):s=e[24];v=s;e[25]!==g.threadKey||e[26]!==w||e[27]!==q||e[28]!==v?(a=b("cr:8257")?l.jsx(b("cr:8257"),babelHelpers["extends"]({},v,{selectedReaction:q!=null?(j||(j=d("UnicodeUtils"))).getCodePoints(q):null})):b("cr:8247")?l.jsx(b("cr:8247"),babelHelpers["extends"]({},v,{onVisibilityChange:w,threadKey:g.threadKey})):null,e[25]=g.threadKey,e[26]=w,e[27]=q,e[28]=v,e[29]=a):a=e[29];return a}g["default"]=a}),226);
__d("IGDMessageReactionButtonLazyLoadPopoverTrigger.react",["IGDMessageButton.react","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("requireDeferred")("IGDComposerEmojiPicker.react").__setRef("IGDMessageReactionButtonLazyLoadPopoverTrigger.react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.align,f=a.altLabel,g=a.closeAfterSelect,h=a.label,k=a.onClickAction,l=a.onClose,m=a.onSelect,n=a.onVisibilityChange,o=a.showPopoverArrow,p=a.threadKey;a=a.useMenuItem;g=g===void 0?!0:g;o=o===void 0?!1:o;var q=a===void 0?!1:a;b[0]!==g||b[1]!==l||b[2]!==m||b[3]!==o||b[4]!==p?(a={closeAfterSelect:g,onClose:l,onSelect:m,showPopoverArrow:o,threadKey:p},b[0]=g,b[1]=l,b[2]=m,b[3]=o,b[4]=p,b[5]=a):a=b[5];b[6]!==f||b[7]!==h||b[8]!==k||b[9]!==q?(g=function(a,b){return q?i.jsx(c("IGDSBox.react"),{containerRef:a,children:i.jsx(c("IGDMessageContextMenuItem.react"),{icon:i.jsx(c("IGDSFace2OutlineIcon.react"),{alt:f,size:18}),label:h,onClick:function(){return k(b)}})}):i.jsx(c("IGDMessageButton.react"),{innerRef:a,label:h,onClick:function(){return k(b)},children:i.jsx(c("IGDSFace2OutlineIcon.react"),{alt:f,color:"ig-primary-text","data-testid":void 0,size:16})})},b[6]=f,b[7]=h,b[8]=k,b[9]=q,b[10]=g):g=b[10];b[11]!==e||b[12]!==n||b[13]!==a||b[14]!==g?(l=i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:e,onVisibilityChange:n,popoverProps:a,popoverResource:j,popoverType:"dialog",position:"above",children:g}),b[11]=e,b[12]=n,b[13]=a,b[14]=g,b[15]=l):l=b[15];return l}g["default"]=a}),98);
__d("IGDMessageReactionTrayButtonLazyLoadPopoverTrigger.react",["IGDMessageButton.react","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("requireDeferred")("IGDReactionTray.react").__setRef("IGDMessageReactionTrayButtonLazyLoadPopoverTrigger.react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.align,f=a.altLabel,g=a.label,h=a.onClickAction,k=a.onClose,l=a.onSelect,m=a.onVisibilityChange,n=a.selectedReaction;a=a.useMenuItem;var o=a===void 0?!1:a;b[0]!==k||b[1]!==l||b[2]!==n?(a={onClose:k,onSelect:l,selectedReaction:n},b[0]=k,b[1]=l,b[2]=n,b[3]=a):a=b[3];b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==o?(k=function(a,b){return o?i.jsx(c("IGDSBox.react"),{containerRef:a,children:i.jsx(c("IGDMessageContextMenuItem.react"),{icon:i.jsx(c("IGDSFace2OutlineIcon.react"),{alt:f,size:18}),label:g,onClick:function(){return h(b)}})}):i.jsx(c("IGDMessageButton.react"),{innerRef:a,label:g,onClick:function(){return h(b)},children:i.jsx(c("IGDSFace2OutlineIcon.react"),{alt:f,color:"ig-primary-text","data-testid":void 0,size:16})})},b[4]=f,b[5]=g,b[6]=h,b[7]=o,b[8]=k):k=b[8];b[9]!==e||b[10]!==m||b[11]!==a||b[12]!==k?(l=i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:e,onVisibilityChange:m,popoverProps:a,popoverResource:j,position:"above",children:k}),b[9]=e,b[10]=m,b[11]=a,b[12]=k,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("IGDMessageReplyButton.react",["fbt","IGDInstamadilloUtils","IGDMessageButton.react","IGDSReplyPanoOutline24Icon.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useIGDMessageReply.react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.message,g=a.onClose;a=a.thread;var j=(i||(i=c("useReStore")))(),l;b[0]!==j.tables.contacts||b[1]!==e.senderId?(l=function(){return d("ReQL").fromTableAscending(j.tables.contacts).getKeyRange(e.senderId)},b[0]=j.tables.contacts,b[1]=e.senderId,b[2]=l):l=b[2];var m;b[3]!==j||b[4]!==e.senderId?(m=[j,e.senderId],b[3]=j,b[4]=e.senderId,b[5]=m):m=b[5];l=d("ReQLSuspense").useFirst(l,m,f.id+":41");m=(m=l==null?void 0:l.name)!=null?m:l==null?void 0:l.secondaryName;l=c("useIGDMessageReply.react")(e,a,g);g=l[0];l=l[1];var n;b[6]!==m?(n=h._(/*BTDS*/"{sender name}\u3055\u3093\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1",[h._param("sender name",m)]),b[6]=m,b[7]=n):n=b[7];m=n;n=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);if(!d("IGDInstamadilloUtils").shouldRenderMessageReply(e,n))return null;b[8]!==m?(a=k.jsx(c("IGDSReplyPanoOutline24Icon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0,size:16}),b[8]=m,b[9]=a):a=b[9];b[10]!==g||b[11]!==l||b[12]!==a?(n=k.jsx(c("IGDMessageButton.react"),{label:l,onClick:g,children:a}),b[10]=g,b[11]=l,b[12]=a,b[13]=n):n=b[13];return n}g["default"]=a}),226);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageDeliveryStatus","MWPThreadCapabilitiesContext","isDeliveryStatusErrorState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();b=b.canUnsendMessage;if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(a.sendStatusV2)))return!1;a=a.cannotUnsendReason!=null?(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;return b&&a}g["default"]=a}),98);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var g=(h||(h=c("useReStore")))();e=c("useIsGenAiFeedbackEnabled")(b,e);var i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.tables.messages.index("threadKeyPrimarySortKeySecondarySortKeyBotResponseId"),["botResponseId"]).getKeyRange(a)},[g,a],f.id+":43"),j=c("useGenAIFeedbackSubmissionStatus")(b);return e&&(i==null?void 0:i.botResponseId)===b&&j==null}g["default"]=a}),98);
__d("IGDMessageRowActions.react",["I64","IGDInstamadilloUtils","IGDMessageMoreContextMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWPActor.react","MWPBaseMessageListRowActions.react","MessagingAttachmentType","PolarisUA","ReQL","ReQLSuspense","cr:3505","cr:3552","gkx","react","react-compiler-runtime","useGenAIFeedbackSubmissionStatus","useIGDIsGenAiReelsPlugin","useIGDMessageAttachment","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore","useShowPersistentGenAIFeedbackButtons"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useContext,n=e.useState,o=c("gkx")("4253")===!0,p=[(k||(k=d("LSIntEnum"))).ofNumber(1),k.ofNumber(16384),k.ofNumber(2),k.ofNumber(4)];function q(a){var e=d("react-compiler-runtime").c(89),g=a.message,i=a.outgoing,m=a.setReactionsMenuOpen;a=a.thread;var n=(h||(h=c("useReStore")))(),q=d("MWPActor.react").useActor(),r=c("useIsThreadBlocked")(),s=c("useIsReadOnlyFeatureLimited")(),t=a.threadKey,u=a.threadType,v=g.displayedContentTypes,w=g.senderId,x;e[0]!==n.tables.contacts||e[1]!==w?(x=function(){return d("ReQL").fromTableAscending(n.tables.contacts,["blockedByViewerStatus"].concat(d("LSContactBitOffset").contactCapabilityFields)).getKeyRange(w)},e[0]=n.tables.contacts,e[1]=w,e[2]=x):x=e[2];var y;e[3]!==n||e[4]!==w?(y=[n,w],e[3]=n,e[4]=w,e[5]=y):y=e[5];x=d("ReQLSuspense").useFirst(x,y,f.id+":98");y=c("useIGDMessageAttachment")(n,g,t);t=y.attachment;y=y.hasMultipleAttachments;var z;e[6]!==q||e[7]!==w?(z=(j||(j=d("I64"))).equal(w,q),e[6]=q,e[7]=w,e[8]=z):z=e[8];q=z;z=!q&&d("LSMessagingThreadTypeUtil").isOneToOne(u)&&x!=null?!(j||(j=d("I64"))).equal(x.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;e[9]!==x?(u=x!=null&&d("LSContactBitOffset").has(66,x),e[9]=x,e[10]=u):u=e[10];u=u;var A;e[11]!==x?(A=x!=null&&d("LSContactBitOffset").has(18,x),e[11]=x,e[12]=A):A=e[12];x=A;e[13]!==a?(A=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),e[13]=a,e[14]=A):A=e[14];A=A;var B;e[15]!==v||e[16]!==q||e[17]!==x?(B=x&&!q&&p.findIndex(function(a){return(j||(j=d("I64"))).equal(v,a)})!==-1,e[15]=v,e[16]=q,e[17]=x,e[18]=B):B=e[18];x=B;e[19]!==t?(B=t!=null&&((j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))),e[19]=t,e[20]=B):B=e[20];B=B;var C;e[21]!==t?(C=t!=null&&(j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),e[21]=t,e[22]=C):C=e[22];C=C;var D;e[23]!==t?(D=t!=null&&(j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)),e[23]=t,e[24]=D):D=e[24];D=D;var E;e[25]!==v||e[26]!==B?(E=(j||(j=d("I64"))).equal(v,d("LSBitFlag").empty)&&!B,e[25]=v,e[26]=B,e[27]=E):E=e[27];E=E;q=c("useMWPCanRemoveMessageGlobally")(g)&&q;var F;e[28]!==t?(F=t!=null&&(j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?t.isSharable:!0,e[28]=t,e[29]=F):F=e[29];t=F;F=g.replySourceTypeV2!=null&&(k||(k=d("LSIntEnum"))).toNumber(g.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;var G;e[30]!==v?(G=(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(1))||(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(1033)),e[30]=v,e[31]=G):G=e[31];G=G;G=G||F&&!!g.text;e[32]!==y||e[33]!==D||e[34]!==C||e[35]!==r||e[36]!==B||e[37]!==A||e[38]!==E||e[39]!==z||e[40]!==s||e[41]!==u||e[42]!==t||e[43]!==g.displayedContentTypes||e[44]!==g.isUnsent||e[45]!==a?(F=!r&&!u&&!A&&!s&&!g.isUnsent&&!E&&d("LSThreadBitOffset").has(103,a)&&t&&!z&&!(j||(j=d("I64"))).equal(g.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(256))&&!B&&!C&&!D&&!y,e[32]=y,e[33]=D,e[34]=C,e[35]=r,e[36]=B,e[37]=A,e[38]=E,e[39]=z,e[40]=s,e[41]=u,e[42]=t,e[43]=g.displayedContentTypes,e[44]=g.isUnsent,e[45]=a,e[46]=F):F=e[46];y=F;D=c("useIsGenAiFeedbackEnabled")(g.botResponseId,o);C=c("useGenAIFeedbackSubmissionStatus")(g.botResponseId);B=D&&C==null;e[47]!==B?(z=!d("PolarisUA").isMobile()&&B,e[47]=B,e[48]=z):z=e[48];t=z;e[49]!==g||e[50]!==t?(F=t&&b("cr:3552")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:l.jsx(b("cr:3552"),{message:g})}):null,e[49]=g,e[50]=t,e[51]=F):F=e[51];D=F;e[52]!==g||e[53]!==t?(C=t&&b("cr:3505")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:l.jsx(b("cr:3505"),{message:g})}):null,e[52]=g,e[53]=t,e[54]=C):C=e[54];B=C;e[55]!==r||e[56]!==A||e[57]!==E||e[58]!==s||e[59]!==u||e[60]!==g.isUnsent||e[61]!==t||e[62]!==a?(z=!r&&!u&&!A&&!s&&d("LSThreadBitOffset").has(42,a)&&!g.isUnsent&&!E&&!t,e[55]=r,e[56]=A,e[57]=E,e[58]=s,e[59]=u,e[60]=g.isUnsent,e[61]=t,e[62]=a,e[63]=z):z=e[63];F=z;e[64]!==a?(C=d("LSThreadBitOffset").has(18,a),e[64]=a,e[65]=C):C=e[65];z=C;C=d("LSThreadBitOffset").has(139,a);var H;e[66]!==a?(H=d("LSThreadBitOffset").has(169,a),e[66]=a,e[67]=H):H=e[67];H=H;r=!r&&!u&&!A&&!s&&!g.isUnsent&&!E&&(C?H:z)&&!t;u=c("gkx")("24015");A=u||!E&&(y||q||G||x);e[68]!==r||e[69]!==g||e[70]!==i||e[71]!==m?(s=r?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageReactionButton.react"),{message:g,outgoing:i,setReactionsMenuOpen:m})}):null,e[68]=r,e[69]=g,e[70]=i,e[71]=m,e[72]=s):s=e[72];C=s;e[73]!==F||e[74]!==g||e[75]!==a?(H=F?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageReplyButton.react"),{message:g,thread:a})}):null,e[73]=F,e[74]=g,e[75]=a,e[76]=H):H=e[76];z=H;e[77]!==g||e[78]!==i||e[79]!==A||e[80]!==a?(t=A?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageMoreContextMenuButton.react"),{message:g,outgoing:i,thread:a})}):null,e[77]=g,e[78]=i,e[79]=A,e[80]=a,e[81]=t):t=e[81];u=t;e[82]!==u||e[83]!==B||e[84]!==i||e[85]!==D||e[86]!==C||e[87]!==z?(E=l.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:i,children:[D,B,C,z,u]}),e[82]=u,e[83]=B,e[84]=i,e[85]=D,e[86]=C,e[87]=z,e[88]=E):E=e[88];return E}function r(a){var b=d("react-compiler-runtime").c(15),e=a.ariaHidden,f=a.focused,g=a.hidden,h=a.hovered,i=a.message,j=a.outgoing;a=a.thread;e=e===void 0?!1:e;g=g===void 0?!1:g;var k=n(!1),o=k[0];k=k[1];var p=c("useIsGenAiFeedbackEnabled")(i.botResponseId,c("gkx")("4253")===!0),r=c("useGenAIFeedbackSubmissionStatus")(i.botResponseId),s=c("useIGDIsGenAiReelsPlugin")(i),t=c("useShowPersistentGenAIFeedbackButtons")(i.threadKey,i.botResponseId,c("gkx")("4253")===!0),u;b[0]!==r||b[1]!==p||b[2]!==s||b[3]!==t?(u=s?!1:d("PolarisUA").isMobile()?p&&r==null:t,b[0]=r,b[1]=p,b[2]=s,b[3]=t,b[4]=u):u=b[4];r=u;p=h||f||o;s=m(d("MAWEditMessageContext.react").Context);t=s.editMessageData;u=t!=null;h=!g&&(p||r)&&!u;f=p===!0?"full":"partial";b[5]!==i||b[6]!==j||b[7]!==h||b[8]!==a?(o=h?l.jsx(q,{message:i,outgoing:j,setReactionsMenuOpen:k,thread:a}):null,b[5]=i,b[6]=j,b[7]=h,b[8]=a,b[9]=o):o=b[9];b[10]!==e||b[11]!==j||b[12]!==f||b[13]!==o?(s=l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:e,outgoing:j,visibility:f,children:o}),b[10]=e,b[11]=j,b[12]=f,b[13]=o,b[14]=s):s=b[14];return s}function a(a){var b=d("react-compiler-runtime").c(17),e=a.ariaHidden,g=a.focused,i=a.hidden,j=a.hovered,k=a.message;a=a.outgoing;e=e===void 0?!1:e;i=i===void 0?!1:i;var m=(h||(h=c("useReStore")))(),n;b[0]!==m.tables.threads||b[1]!==k.threadKey?(n=function(){return d("ReQL").fromTableAscending(m.tables.threads,["parentThreadKey","threadKey","threadSubtype","cannotUnsendReason","consistentThreadFbid","threadType"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(k.threadKey)},b[0]=m.tables.threads,b[1]=k.threadKey,b[2]=n):n=b[2];var o;b[3]!==m||b[4]!==k.threadKey?(o=[m,k.threadKey],b[3]=m,b[4]=k.threadKey,b[5]=o):o=b[5];n=d("ReQLSuspense").useFirst(n,o,f.id+":426");b[6]!==k?(o=d("IGDInstamadilloUtils").canMutateIGDMessage(k),b[6]=k,b[7]=o):o=b[7];o=o;var p;b[8]!==e||b[9]!==o||b[10]!==g||b[11]!==i||b[12]!==j||b[13]!==k||b[14]!==a||b[15]!==n?(p=n!=null&&o?l.jsx(r,{ariaHidden:e,focused:g,hidden:i,hovered:j,message:k,outgoing:a,thread:n}):null,b[8]=e,b[9]=o,b[10]=g,b[11]=i,b[12]=j,b[13]=k,b[14]=a,b[15]=n,b[16]=p):p=b[16];return p}g["default"]=a}),98);